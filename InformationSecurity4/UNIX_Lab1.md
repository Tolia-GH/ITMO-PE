# Лабораторная работа No 1

## Учетные записи и группы пользователей Linux <br> Linux 用户帐户和组

### Цель работы:

Изучить параметры учетных записей пользователей в Linux. Ознакомиться с процессом конфигурации и изменения учетных записей по умолчанию. Изучить процесс разграничения доступа к данным и модификации прав доступа.  
探索 Linux 中的用户帐户设置。了解配置和更改默认帐户的过程。研究限制数据访问和修改访问权限的过程。

Теоретический материал, с которым необходимо ознакомиться:  
您需要熟悉的理论材料：

1) Механизмы безопасности в Linux, URL: https://habr.com/ru/articles/92239/
2) Разбор файла /etc/shadow, URL: https://clck.ru/36d6Bp
3) /etc/shadow and Creating yescrypt, MD5, SHA-256, and SHA-512 Password
Hashes, URL: https://www.baeldung.com/linux/shadow-passwords
4) Редактирование файла Sudoers, URL:
https://www.digitalocean.com/community/tutorials/how-to-edit-the-sudoers-file-ru
5) Разграничение прав пользователей в Ubuntu, URL: https://clck.ru/36d6A7
6) Права в Linux (chown, chmod, SUID, GUID, sticky bit, ACL, umask), URL:
https://habr.com/ru/articles/469667/

Примечание: выполнение всех пунктов лабораторной должно сопровождаться скриншотами с результатами работы команд и изменений в конфигурационных файлах.  
注意：所有实验室项目的完成必须附有包含命令结果和配置文件更改的屏幕截图。

### Основная часть

1) Создайте пользователя sXXXXXX(где XXXXXX - ваш номер ису). Создайте группу пользователей studs, добавьте пользователя в эту группу.  
   创建用户 sXXXXXX（其中 XXXXXX 是您的 ISU 编号）。创建用户组studs，将用户添加到该组中。
2) Создайте пользователя admin_sXXXXXX(где XXXXXX - ваш номер ису). Предоставьте пользователю root-права. Опишите все способы, которыми можно это сделать и продемонстрируйте их. (минимум 3 способа).  
   创建用户 admin_sXXXXXX（其中 XXXXXX 是您的 ISU 编号）。授予用户 root 权限。  
   描述所有可以做到这一点的方法并进行演示。 （至少3种方式）。
3) Продемонстрируйте, что пользователь admin_sXXXXXX(где XXXXXX - ваш номер ису), теперь имеет больше привилегий, по сравнению с пользователем user_sXXXXXX. Предоставьте минимум 5 отличий.  
   证明用户 admin_sXXXXXX（其中 XXXXXX 是您的 ISU 编号）现在比用户 user_sXXXXXX 拥有更多权限。至少提供 5 个差异。

Варианты:

1) Настроить маску создаваемых файлов для пользователя sXXXXXX так, чтобы пользователи группы имели только право на чтение, владелец – на чтение и запись.  
   配置用户sXXXXXX创建文件的掩码，使组用户只有读权限，属主有读写权限。
2) Изменить время таймаута логина и количество попыток ввода пароля.  
   更改登录超时时间和密码尝试次数。
3) Изменить способ шифрования пароля пользователя sXXXXXX на SHA512.  
   将用户密码sXXXXXX的加密方式更改为SHA512。
4) Убрать возможность создания группы по умолчанию для новых пользователей без группы.  
   删除为没有组的新用户创建默认组的功能。
5) Установить срок истечения пароля у пользователя sXXXXXX на дату N+10, где N - текущая дата.  
   将用户 sXXXXXX 的密码到期日期设置为日期 N+10，其中 N 是当前日期。
6) Разрешить выполнение команды htop, только от пользователя sXXXXXX  
   允许仅从用户 sXXXXXX 执行 htop 命令
7) С помощью списков АСL, добавить права группе studs на чтение и запись всех файлов, что будут созданы в директории /testdir  
   使用ACL列表，向studs组添加权限以读取和写入将在/testdir目录中创建的所有文件
8) Заблокировать и разблокировать учетную запись пользователя sXXXXXX.  
   阻止和解除阻止用户帐户 sXXXXXX。
9)  Сгенерировать новый пароль для пользователя user_s311740  
    为用户user_s311740生成新密码
10) Создать псевдоним CHANGE в файле sudoers для запуска команд chmod, chgrp, chown. Дать разрешение всем пользователям группы studs на выполнение данных команд.  
    在 sudoers 文件中创建别名 CHANGE 以运行 chmod、chgrp、chown 命令。授予studs 组的所有用户执行这些命令的权限。
11) Задайте диапазон UID для создания новых пользователей, отличный от диапазона по умолчанию.  
    指定默认范围以外的用于创建新用户的UID范围。

Дополнительная часть

1) Создайте каталог /studs. Настройте группу studs так, чтобы только у ее членов был доступ к этому каталогу. Продемонстрируйте, что у других групп нет доступа к этому каталогу.
2) Измените конфигурацию таким образом, чтобы у всех пользователей домашний каталог создавался в /studs/... Продемонстрируйте выполнение, создав тестового пользователя.
3) Создайте каталог /studs/lab_reports. Настройте права так, чтобы файлы из этого каталога могли удалять только те пользователи, которые эти файлы создали. Продемонстрируйте изменения, создав новый файл и удалив его, как другой пользователь.

### Контрольные вопросы

1. Перечислите параметры структуры записей в файлах /etc/passwd, /etc/group и /etc/shadow? За что отвечает каждое поле записи?  
   列出/etc/passwd、/etc/group和/etc/shadow文件中的条目结构参数？记录中每个字段的作用是什么？
2. Какую команду следует использовать для безопасного редактирования файлов конфигурации?  
   您应该使用哪个命令来安全地编辑配置文件？
3. Как UID влияет на приоритет разрешений в операционной системе?  
   UID如何影响操作系统中权限的优先级？
4. Чем отличаются команды sudo и su?  
   sudo 和su 命令有什么区别？