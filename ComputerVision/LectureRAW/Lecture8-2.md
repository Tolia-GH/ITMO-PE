## [MainPage](../../index.md)/[Computer Vision](../README.md)/[Lecture](../Lecture.md)/8-2 RAW

语音识别：Sonix.ai
断句与标点：
翻译：

Для описания работы стерео пары нам понадобится специальный математический инструмент. Обычно активные преобразования и процесс формирования изображений описываются с помощью объективной геометрии в однородных координатах. Данный инструмент удобно использовать и для описания принципа работы стерео пары. Мы рассматривали уже продуктивную геометрию в однородных координатах, когда говорили про процесс формирования изображения. Рассмотрим точки на плоскости в однородных координатах они описываются не парой, а тройкой чисел. При этом тройки, полученные друг из друга путем умножения всех компонент вектора на один и тот же пар, обозначают одну и ту же точку, а нулевой вектор не соответствует ни одной точке плоскости. При этом точкам продуктивной плоскости можно сопоставить точки обычной плоскости следующим образом нужно разделить первые две компоненты на третью, а третью отбросить. Отметим, что такое преобразование имеет смысл только при ненулевой третьей компоненте. Если же третья компонента равна ноль, то данная точка называется точкой в бесконечности, так как третья компонента отвечает за своего рода масштабируемость, то есть представляет собой некоторый масштабный коэффициент, то данное преобразование не имеет физического смысла, то есть перевода аналогичной Евклида в координаты, так как избавиться от масштаба для точки, которая находится бесконечно далеко, невозможно. Поэтому данное преобразование и не имеет смысла. Отметим, что прямые в однородных координатах также задаются три компонентом вектором, подобно описанию точек. Описание прямой определено с точностью до не нулевого множества, а само уравнение прямой имеет вид парного произведения вектора, описывающего прямую на переменную, определяющую каждую точку, принадлежащую данной прямой. Легко догадаться, что данное произведение в уравнении, создающим прямую, равно ноль. Теперь поговорим о точках пространства с точки зрения однородных координат они задаются четвертыми. При этом если последняя компонента четверки равна ноль, то точка называется лежащей в бесконечности.

При этом также существует преобразование между элементами Евклида нового пространства и проектируемого. То есть, если мы возьмем тройку описывающую точку в ледовом пространстве, и добавим к ней единицу, то получим точку в активном пространстве, соответствующую ей. Под добавлением единицы подразумевается получение из тройки четверки с помощью добавления еще одной компоненты, равной единице. Отметим также, что точки, лежащие в бесконечности, то есть четверки, у которых последняя компонента равна нулю, не имеют аналогов в ледовом пространстве. Все остальные содержит физические аналоги в и ледовом пространстве, которые, как нетрудно догадаться, получаются делением первых трех компонент четверки на четвертую компоненту и отбрасываем соответствующие четвертой компоненты. Отметим, что и продуктивные плоскости, и продуктивные пространства состоят из объектов двух типов из точек, которые имеют аналоги в Евклида, и нотации, и точек, лежащих в бесконечности. С помощью однородных координат можно задать и продуктивное преобразование или томографию. Она представляет собой необратимое преобразование продуктивной плоскости или пространства, которое переводит прямые в прямые. В однородных координатах продуктивное преобразование выражается в виде не выраженной квадратной матрицы. При этом каждый вектор, задающий некоторый элемент плоскости или пространства, переходит в соответствующий ему преобразованный вектор путем умножения матрицы географии на исходный. Используя введенную нотацию, возможно описать преобразование трехмерной сцены в проекцию, получившуюся на матрице цифрового фотоаппарата. Данная модель называется моделью активной камеры. Связанная с ней система координат изображена на слайде, где С центр камеры. Главная ось Х. Большая трехмерного пространства проецируется в точку X на плоскости изображения. Активная камера определяется центром камеры, главной осью, то есть лучом, начинающимся в центре камеры и направленным туда, куда камера смотрит, а также плоскостью изображения, то есть плоскостью, на которую выполняется, проецирования точек, и системой координат на этой плоскости.

В такой модели произвольная точка пространства проецируется на плоскость изображения в точку, лежащую на отрезке, который соединяет центр камеры с исходной точкой пространства. Теперь, используя активную геометрию и нотацию однородных координат, рассмотрим устройство активной камеры. Формула проецирования имеет простую математическую запись в однородных координатах и представлена на слайде, где X Большое это однородные координаты точки пространства X однородные координаты точки плоскости N. Матрица размера три на четыре, также называемая матрицей камеры. Матрица n выражается образом, представленным на слайде, где k верхняя треугольная матрица внутренних параметров, имеющая размер три на три R матрица размера три на три, определяющая поворот камеры относительно глобальной системы координат и единичная матрица размера три на три и С вектор, содержащей координаты центра камеры. Стоит отметить, что матрица камеры определена с точностью до постоянного не нулевого множителей, который не изменит результаты проецирования точек. Однако этот постоянный множитель обычно выбирается так, чтобы матрица камеры имела вышеописанной вид. В самом простейшем случае, когда центр камеры лежит в начале координат. Главная ось камеры направлена на оси координат. На плоскости камеры имеют одинаковый масштаб, что эквивалентно случаю квадратных пиксель, а центр изображения имеет нулевые координаты. Тогда матрица камеры будет иметь вид Произведение матрицы K на матрицу, составленную из единичной матрицы и нулевого столбца. У реальных камер пикселя обычно незначительно отличаются от квадратных, а центр изображения имеет не нулевые координаты. В таком случае матрица внутренних параметров имеет вид, представленный на слайде. Коэффициенты x и Y называются фокусами, расстояниями камеры, причем Ф называется фокусом, расстоянием, а, x и y фокусное расстояние вдоль соответствующих осей.

Помимо этого, в силу нереальности оптики на изображениях, полученных с камер, присутствуют искажения дисперсии. Данные искажения имеют не линейную математическую нотацию в терминах однородных координат. Здесь К1, К2, P1, N1, P2 и K три это коэффициенты, являющиеся параметрами оптической системы X штрих и штрих координаты проекции точки относительно центра изображения при квадратных пиксель и отсутствии искажений. X2 штриха два штриха. Искаженные координаты точки относительно центра изображения при квадратных пиксель истории не зависит от расстояния до объекта, а зависит только от координат точек, в которых проецируются пиксели объекта. Соответственно, для компенсации дисперсии обычно выполняется преобразование исходного изображения, полученного с камеры. Это преобразование будет одним и тем же для всех изображений, полученных с камеры, при условии постоянства фокусное расстояние, то есть одной и той же матрицы внутренних параметров калибровки. В ситуации, когда известны внутренние параметры калибровки и коэффициенты дисперсии, говорят, что камера от калибра Вана. После того, как мы поговорили про общую теорию проецирования в терминах однородных координат. Перейдем к аппарату, специфическому для стерео зрения. Для описания работы стерео пары нам понадобится и популярная геометрия. Перед тем, как перейти к описанию метода вычисления трехмерных координат точек, опишем некоторые важные геометрические свойства, связывающее положение проекций точки трехмерного пространства на изображение обеих камер. Пусть имеются две камеры, как показано на слайде С. Большое центр первой камеры С. Большой штрих центр второй камеры. Точка. Пространство X большое проецируется в точку X на плоскость изображения левой камеры и в точку X штрих малое на плоскости в изображение правой камеры Прообразом точки X на изображении левой камеры является луч X малая X большое.

Этот луч проецируется на плоскость второй камеры в прямую и штрих, называемую биполярной линией. Образ точки X большое на плоскости изображение второй камеры обязательно лежит на line полярной линии I И штрих. Таким образом, каждой точки X на изображении левой камеры соответствует line полярная линия и штрих на изображении правой камеры. При этом пара для X на изображении правой камеры может лежать только на соответствующей биполярной линии, аналогично каждой точке Х3 на правом изображении соответствует line полярная линия и налево. Line. Полярную геометрию используют для поиска стерео пар и для проверки того, что пара точек может быть стерео парой, то есть проекции некоторой точки пространства, и полярная геометрия имеет очень простую запись в однородных координатах. Пусть имеется пара данных камер, и пусть X это однородные координаты точки на изображении одной камеры, а X штрих на изображении второй. Существует такая матрица, их большое размеры три на три, что пара точек x. И X штрих является стерео парой тогда и только тогда, когда выполнено соотношение, представленное на слайде матрица большое называется фундаментальной матрицей. Ее ранг равен два. Она определена с точностью до ненулевой множитель и зависит только от матриц исходных камер по большой и по большой штрих. В случае, когда матрицы камер имеют вид, представленный на слайде, фундаментальная матрица может быть вычислен по формуле, также представлены на слайде. С помощью фундаментальной матрицы вычисляются уравнение и приполярных линий для точки X. Вектор, задающий полярную линию, будет иметь вид произведение фундаментальной матрицы на вектор, содержащей однородные координаты точки X, а уравнение самой полярной линии представлено на слайде Аналогично для точки Х3 вектор, задающий полярную линию, будет иметь вид произведения транспондеров данной фундаментальной матрицы на вектор однородных координат точки x штрих.

Помимо фундаментальной матрицы существует еще такое понятие, как существенная матрица. Она обозначена на слайде буквой Е. В случае, когда матрицы внутренних параметров будут единичными, существенная матрица будет совпадать с фундаментальной матрицей. По существенной матрице можно восстановить положение поворота второй камеры относительно первой, поэтому она используется в задачах, в которых нужно определить движение камеры. И, наконец, после того, как мы поговорили об устройстве стерео пары, поговорим о самом процессе получения координат точки трехмерной сцены. Данный процесс называется трансляцией. Пусть имеются две данные камеры с матрицами P1 и P2. При этом x малая один и x малая два. Однородные координаты проекции некоторой точки пространства X большое. Тогда можно составить следующую систему уравнений, представленную на слайде. На практике для решения этой системы применяется следующий подход векторное умножается первое уравнение на X один, второе на X два. Далее происходит избавление от линейно зависимых уравнений и система приводится к виду, а большое, умноженное на X, большое равно b0, где a большое имеет размер четыре на четыре. Далее можно либо исходить из того, что вектор x большой является однородным с координатами точки положить его последнюю компоненту, равной единице, и решать полученную систему из трех уравнений с тремя неизвестными. Альтернативный способ заключается в следующем возможно взять любое не нулевое решение системы, а большое умножить на х. Большое равно нулю. Например, вычислить как сингулярность вектор, отвечающий наибольшему, сингулярность числу матрицы A большое.