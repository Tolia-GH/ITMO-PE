<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

## [MainPage](../index.md)/[Computer NetWork](README.md)/Lab2

# Лабораторные работы по дисциплине «Компьютерные сети» <br> «Моделирование компьютерных сетей в среде NetEmul»

# Лабораторная работа № 3 «Компьютерные сети с маршрутизаторами» 

## 1. ЦЕЛЬ РАБОТЫ

Изучение принципов конфигурирования и процессов функционирования компьютерных сетей, представляющих собой несколько подсетей, связанных с помощью маршрутизаторов, процессов автоматического распределения сетевых адресов, принципов статической маршрутизации и динамической маршрутизации, а также передачи данных на основе протоколов UDP и TCP.  
研究计算机网络的配置原理和运行过程，由路由器连接的多个子网、网络地址的自动分配过程、静态路由和动态路由原理以及基于UDP和TCP协议的数据传输。

В процессе выполнения лабораторной работы необходимо:  
在实验室工作期间，您必须：
- построить модели компьютерных сетей, представляющих собой несколько подсетей, объединенных в одну автономную сеть, в соответствии с заданными вариантами топологий, представленными в Приложении (В1 – В6);  
  根据附录（B1 - B6）中提供的指定拓扑选项，构建计算机网络模型，该模型是将多个子网络联合成一个自治网络；
- выполнить настройку сети при статической маршрутизации, заключающуюся в присвоении IP-адресов интерфейсам сети и ручном заполнении таблиц маршрутизации;  
  使用静态路由执行网络配置，包括为网络接口分配 IP 地址并手动填写路由表；
- промоделировать работу сети при использовании динамической маршрутизации на основе протокола RIP и при автоматическом распределении IP-адресов на основе протокола DHCP;  
  使用基于RIP协议的动态路由和基于DHCP协议的IP地址自动分配来模拟网络的操作；
- выполнить тестирование построенных сетей путем проведения экспериментов по передаче данных на основе протоколов UDP и TCP;  
  通过基于UDP和TCP协议进行数据传输实验来测试所构建的网络；
- проанализировать результаты тестирования и сформулировать выводы об эффективности сетей с разными топологиями;
  分析测试结果并得出不同拓扑网络有效性的结论；
- сохранить разработанные модели локальных сетей для демонстрации процессов передачи данных при защите лабораторной работы.  
  保存开发的本地网络模型，以在保护实验室工作时演示数据传输过程。

## Этапы работы 工作阶段

### ЗАДАНИЕ 1. Сеть с одним маршрутизатором (вариант В1)

1. Построение и настройка сети с маршрутизатором.  
   使用路由器构建和配置网络。

   1. Связать три локальные сети (подсети), разработанные в лабораторной работе № 2 (Сеть 1 – с концентратором и Сеть 2 и Сеть 3 – с коммутаторами), с помощью одного маршрутизатора (вариант В1).  
      使用一台路由器（选项 B1）连接在 2 号实验室工作中开发的三个本地网络（子网）（网络 1 - 带集线器、网络 2 和网络 3 - 带交换机）。
   2. При необходимости изменить имена (идентификаторы) устройств сети для отслеживания протекающих в них процессов в Журналах устройств.  
      如有必要，更改网络设备的名称（标识符）以在设备日志中跟踪其中发生的进程。
   3. Настроить интерфейсы компьютеров и маршрутизатора, назначив им IP-адреса из заданного множества адресов и, при необходимости, маски адресов. Для наглядности и облегчения анализа протекающих в сети процессов при передаче пакетов и кадров визуализировать MAC- и IP-адреса на модели сети.  
      配置计算机和路由器的接口，从给定的地址集中为其分配 IP 地址，并在必要时分配地址掩码。为了清楚起见并便于分析数据包和帧传输期间网络中发生的过程，请在网络模型上可视化 MAC 和 IP 地址。
   5. Проанализировать содержимое таблиц маршрутизации. Описать:  
      分析路由表的内容。描述： 
      - какая информация находится в таблицах;  
        表中有哪些信息；
      - каким образом сформированы записи в таблицах?  
        表中的记录是如何形成的？

2. Тестирование сети (отправка пакетов).
   网络测试（发送数据包）。
   1. Проиллюстрировать передачу сообщений с использованием протокола UDP. Описать:  
      说明使用 UDP 协议进行消息传输。描述： 
      - какие пакеты и в какой последовательности передаются пакеты в сети;  
        网络上传输哪些数据包以及数据包的传输顺序；  
      - какая информация содержится в пакетах и кадрах.  
        数据包和帧中包含哪些信息。 

   2. Проанализировать передачу сообщений с использованием протокола TCP. Описать:  
      分析使用 TCP 协议的消息传输。描述：
      - какие пакеты и в какой последовательности передаются пакеты в сети;  
        网络上传输哪些数据包以及数据包的传输顺序； 
      - какая информация содержится в пакетах и кадрах;  
        数据包和帧中包含哪些信息； 
      - в чем отличия при передаче сообщений по протоколам UDP и TCP по сравнению с сетями без маршрутизаторов.  
        与没有路由器的网络相比，通过 UDP 和 TCP 协议传输消息有什么区别。 
       
   4. Сохранить построенную сеть для демонстрации ее функционирования при защите лабораторной работы.  
      保存构建的网络以在保护实验室工作时展示其功能。 

### ЗАДАНИЕ 2. Сеть двумя маршрутизаторами (вариант В2) <br> 任务 2. 具有两个路由器的网络（选项 B2）

3. Построение сети. 建立网络。
   1. Построить сеть из тех же трех подсетей (см. этап 1), связав их с помощью двух маршрутизаторов в соответствии с топологией (вариант В2).  
      从相同的三个子网构建一个网络（参见阶段 1），根据拓扑使用两个路由器连接它们（选项 B2）。 
   3. Настроить интерфейсы компьютеров и маршрутизаторов, назначив им IP-адреса из заданного множества адресов и, при необходимости, маски адресов. Для наглядности и облегчения анализа протекающих в сети процессов при передаче пакетов и кадров визуализировать MAC-и IP-адреса на модели сети.
      通过从给定的地址集中分配 IP 地址以及地址掩码（如有必要）来配置计算机和路由器的接口。为了清楚起见并便于分析数据包和帧传输期间网络中发生的过程，请在网络模型上可视化 MAC 和 IP 地址。 
   5. Проанализировать содержимое таблиц маршрутизации. Описать:  
      分析路由表的内容。描述： 
      - какая информация находится в таблицах;  
        表中有哪些信息； 
      - как сформированы записи (строки) в таблице?  
        表中的记录（行）是如何形成的？

4. Тестирование сети (отправка пакетов).
   网络测试（发送数据包）。
   1. Проиллюстрировать передачу сообщений с использованием протокола UDP. Описать:  
      说明使用UDP协议的消息传输。描述：  
      - какие пакеты, в какой последовательности и по каким маршрутам передаются пакеты в сети;  
        网络中传输哪些数据包、以什么顺序以及沿着什么路由传输数据包；  
      - какая информация содержится в пакетах и кадрах.  
        数据包和帧中包含哪些信息。  
   3. Проанализировать передачу сообщений с использованием протокола TCP. Описать:  
      分析使用TCP协议的消息传输。描述： 
      - какие пакеты, в какой последовательности и по каким маршрутам передаются в сети;  
        在网络中传输什么数据包、以什么顺序以及沿着什么路由； 
      - какая информация содержится в пакетах и кадрах.  
        数据包和帧中包含哪些信息。 
   5. Сохранить построенную сеть для демонстрации ее функционирования при защите лабораторной работы.  
      保存构建的网络，以在保护实验室工作时展示其功能。  

### ЗАДАНИЕ 3. Сеть тремя маршрутизаторами

5. Построение сети.  
   建立网络。
   1. Построить сеть из трех подсетей, связав их с помощью 3-х маршрутизаторов, выбрав один из возможных вариантов (В3 – В6), из представленных в Приложении. Сравнить выбранный вариант с другими вариантами, описав достоинства и недостатки каждого из них.  
      构建一个由三个子网组成的网络，使用 3 个路由器连接它们，从附录中提供的选项中选择一个可能的选项 (B3 - B6)。将所选选项与其他选项进行比较，描述每个选项的优点和缺点。 
   3. Настроить интерфейсы компьютеров и маршрутизаторов, назначив им IP-адреса и маски адресов, визуализировать MAC- и IP-адреса на модели сети.  
     配置计算机和路由器的接口，为其分配IP地址和地址掩码，在网络模型上可视化MAC和IP地址。  
   5. Проанализировать содержимое таблиц маршрутизации. Описать:  
      分析路由表的内容。描述：  
      - какая информация находится в таблице;  
        表中有哪些信息；  
      - как сформированы записи (строки) в таблице?  
        表中的记录（行）是如何形成的？  
   7. Добавить в таблицы маршрутизации статические маршруты, обосновав их необходимость.  
      将静态路由添加到路由表中，证明其需要。 

6. Тестирование сети (отправка пакетов).  
   网络测试（发送数据包）。
   1. Проиллюстрировать передачу сообщений с использованием протокола UDP и статической маршрутизации. Если сеть не функционирует или передача пакетов осуществляется некорректно, внести необходимые минимальные изменения в рассматриваемой сети, обеспечивающие корректное функционирование (передачу пакетов). Описать:  
     说明使用 UDP 和静态路由的消息传输。如果网络无法正常工作或数据包传输不正确，请对相关网络进行必要的最小更改，以确保正常运行（数据包传输）。描述：  
   - какие изменения пришлось внести в сети и почему;  
     必须对网络进行哪些更改以及原因； 
   - какие пакеты, в какой последовательности и по каким маршрутам передаются в сети.  
     网络中传输什么数据包、以什么顺序以及沿着什么路由传输。 
   1. Проанализировать передачу сообщений с использованием протокола TCP. Описать:  
      分析使用TCP协议的消息传输。描述： 
   - какие пакеты, в какой последовательности и по каким маршрутам передаются в сети;  
     网络中传输哪些数据包、以什么顺序以及沿着什么路由传输；
   - какая информация содержится в пакетах и кадрах.  
     数据包和帧中包含哪些信息。 
   1. Сохранить построенную сеть для демонстрации ее функционирования при защите лабораторной работы.  
      保存构建的网络以在保护实验室工作时展示其功能。 

7. Настройка динамической маршрутизации по протоколу RIP.  
   使用 RIP 协议配置动态路由。
   1. Установить на всех маршрутизаторах и компьютерах сети программу RIP. Пункт контекстного меню «Программы» (кнопка «Добавить»). Для активации программы необходимо установить флаг. Включить маршрутизацию на маршрутизаторах.  
     在网络上的所有路由器和计算机上安装 RIP 程序。 “程序”上下文菜单项（“添加”按钮）。要激活该程序，您必须设置该标志。在路由器上启用路由。
   2. Остановить процесс моделирования кнопкой Запустить-Остановить в главном меню.  
      使用主菜单中的“开始-停止”按钮停止建模过程。  
   3. Открыть журналы для маршрутизаторов и привести их в исходное состояние, удалив записи, которые возможно успели появится в результате работы протокола RIP.  
      打开路由器的日志并将其恢复到原始状态，删除可能由于 RIP 协议而出现的条目。 
   4. Запустить процесс моделирования кнопкой Запустить-Остановить в главном меню и проследить за перемещением пакетов протокола RIP по сети.  
      使用主菜单中的“开始-停止”按钮启动模拟过程，并监视 RIP 协议数据包在网络中的移动。  
   5. Открыть таблицы маршрутизации каждого маршрутизатора и убедиться, что таблицы маршрутизации заполнились. Описать:  
      打开每个路由器的路由表并确保路由表已填充。描述：  
      - какие изменения произошли в таблицах маршрутизации;  
        路由表发生了哪些变化；  
      - как часто посылались пакеты протокола RIP.  
        RIP 数据包发送的频率。 
   6. Смоделировать ситуацию выхода из строя сетевого оборудования, удалив один их коммутаторов сети. Проанализировать, какие произошли изменения в таблицах маршрутизации и в процессе функционирования сети.  
       通过移除其中一台网络交换机来模拟网络设备故障的情况。分析路由表和网络运行过程中发生了哪些变化。 

8. Настройка автоматического получения сетевых настроек по протоколу DHCP.  
   配置通过 DHCP 自动接收网络设置。
   1. В режиме остановки процесса моделирования на каждом маршрутизаторе добавить и запустить программу DHCP-сервер и установить флаг для активации программы.  
      当模拟过程停止时，在每个路由器上添加并运行 DHCP 服务器程序，并设置标志以激活该程序。  
   3. В настройках DHCP-сервера указать интерфейс, тип адресов — «динамические», диапазон адресов, выделяемых для динамической адресации, маску подсети и IP-адрес шлюза.  
      在 DHCP 服务器设置中，指定接口、地址类型 - “动态”、为动态寻址分配的地址范围、子网掩码和网关 IP 地址。 
   5. На каждом компьютере добавить и запустить программу DHCP-клиент и установить флаг для активации программы. В настройках каждого DHCP-клиента указать интерфейс, который должен автоматически получать сетевые настройки.  
      在每台计算机上，添加并运行 DHCP 客户端程序并设置标志以激活该程序。在每个 DHCP 客户端的设置中，指定应自动接收网络设置的接口。  
   7. Для каждого компьютера открыть пункт контекстного меню Интерфейсы и убедиться, что стоит флаг «Получать настройки автоматически».  
      对于每台计算机，打开“接口”上下文菜单项，并确保选中“自动接收设置”复选框。  
   9. Запустить процесс моделирования кнопкой Запустить-Остановить в главном меню и проследить за перемещением сообщений протокола DHCP по сети. Выполнить анализ последовательности передачи и содержания DHCP-сообщений с помощью журналов (Показать журнал) компьютеров и маршрутизаторов. Дождаться, когда все компьютеры получат сетевые настройки.  
      使用主菜单中的“开始-停止”按钮启动模拟过程，并监视 DHCP 协议消息在网络中的移动。使用计算机和路由器的日志（Show Log）分析 DHCP 消息的传输顺序和内容。等待所有计算机收到网络设置。  
   11. Проверить работоспособность построенной сети, передав пакеты между компьютерами в разных подсетях.  
       通过在不同子网上的计算机之间传输数据包来检查所构建网络的功能。  

### 3. Требования к содержанию отчёта 报告内容要求

Отчет по выполненной лабораторной работе состоит из двух частей:  
实验室工作报告由两部分组成：
1) краткое описание построенных сетей с результатами анализа и скриншотами, подтверждающими результаты и выводы по работе;  
   对所构建网络的简要描述，以及确认工作结果和结论的分析结果和屏幕截图；
2) сохранённые все построенные модели компьютерных сетей для иллюстрации их работы в среде NetEmul с целью подтверждения полученных результатов и внесения в процессе защиты изменений по требованию преподавателя с последующей настройкой и иллюстрацией работы преобразованной сети.  
   将所有构建的计算机网络模型保存在NetEmul环境中演示其工作，以便确认所获得的结果并根据教师的要求在保护过程中进行更改，然后设置并演示转换后的网络的操作。

### Варианты построения компьютерных сетей

