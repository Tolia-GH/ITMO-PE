# «Методы кодирования в компьютерных сетях» (Комментарии к презентации ЛР1)

## Слайд 2

### 1. Введение в телекоммуникацию

**Телекоммуникация** (греч. tele –далеко и лат. communicatio – общение) означает передачу данных на большие расстояния, причем телекоммуникация может осуществляться с использованием разных технологий и средств - электронных, оптических, электромагнитных, компьютерных.

**Средства телекоммуникации** включают в себя совокупность технических, программных и организационных средств, взаимосвязанная совокупность которых образует телекоммуникационную систему или, в общем случае, **телекоммуникационную сеть** определенной топологии.

Примерами телекоммуникационных сетей могут служить: 
- телефонные сети для передачи телефонных данных (голоса); 
- радиосети для передачи аудиоданных; 
- телевизионные сети для передачи видеоданных; 
- цифровые (компьютерные) сети или сети передачи данных (СПД) для передачи цифровых (компьютерных) данных.

Наряду с понятием «телекоммуникационная сеть» часто используют такие термины как «сеть связи», «сеть передачи данных». Отметим, что сеть передачи данных предполагает передачу дискретных данных, в то время как в телекоммуникационной сети (сети связи) могут передаваться как дискретные, так и непрерывные данные.

**Компьютерная сеть** может рассматриваться как современная универсальная телекоммуникационная сеть, объединяющая множество компьютеров, в которой могут передаваться любые виды данных.

**Вычислительная сеть** – это компьютерная сеть, основной функцией которой является обработка данных (вычисления), включая распределенную обработку, а передача данных является вспомогательной функцией.

Поток данных в телекоммуникационной сети называется трафиком.

**Кодирование** (в широком смысле) – способ представления данных.

**Модуляция** – перенос низкочастотного сигнала в высокочастотный диапазон.

**Синхронность** – согласованность двух и более процессов во времени.

**Асинхронность** – временная рассогласованность процессов.

Данные в зависимости от способа их представления и описания делятся на **непрерывные** и **дискретные**.

**Непрерывные или аналоговые данные** могут быть представлены в виде непрерывной функции времени. К ним относятся: речь, передаваемая в телефонных системах связи, факсимильные данные в виде неподвижных изображений, аудиоданные – звук высокого качества, включающий речь и музыку, видео – подвижные изображения вместе с аудио.

**Дискретные или цифровые данные** представляются в виде отдельных знаков или символов. К ним относятся телеграфные на основе азбуки Морзе или кода Бодо и компьютерные данные.

Передача данных в телекоммуникационной сети осуществляется с помощью их физического представления – **сигналов**, которые, как и данные, могут быть непрерывными и дискретными.

#### Типы сигналов

**Непрерывные сигналы** изображаются в виде непрерывной функции времени.

**Дискретные сигналы** характеризуются скачкообразным изменением уровня сигнала в определенные моменты времени.

Наиболее широкое применение в телекоммуникационных сетях получили
следующие **типы сигнала**:

- электрический в виде электрического тока; 
- оптический в виде импульсов света; 
- электромагнитный в виде радиоволн.

Сигналы, формируемые специальными техническими средствами – передатчиками, усилителями и т.п., передаются по **линии связи**, которая представляет собой совокупность среды передачи и технических средств, называемых аппаратурой передачи данных (АПД) и обеспечивающих формирование, передачу и прием физических сигналов, соответствующих среде передачи.

Линии связи можно разбить на **2 класса:** 
- кабельные; 
- беспроводные (радиолинии).

**Для передачи электрических и оптических сигналов** применяются
кабельные линии связи соответственно: 
- электрические (ЭЛС); 
- волоконно-оптические (ВОЛС).

**Передача электромагнитных сигналов** осуществляется через
радиолинии связи (РЛС) и спутниковые линии связи (СЛС).

### 2. Общая теория связи

## Слайд 3

#### Сигналы

При прохождении сигнала через некоторую среду передачи, в качестве которой может выступать линия связи или устройство, происходит **изменение** мощности сигнала и его формы (искажение сигнала). Это может привести к неприятным последствиям – невозможности распознать сигнал или к полной его потере. Степень изменения сигнала определяется свойствами среды передачи.

При передаче сигнала в пассивной среде, например по линии связи, происходит уменьшение мощности сигнала (затухание). Мощность сигнала может увеличиваться при его прохождении через усилитель или регенератор сигнала.

Изменение мощности сигнала в радиотехнике, электросвязи и акустике принято измерять в **децибелах**, рассчитываемых как логарифм отношения мощности выходного сигнала к мощности сигнала на входе устройства или линии связи.

Отношение этих мощностей называется **коэффициентом передачи**.

Величина $d$ , выраженная в децибелах, называется **коэффициентом** усиления, если $d \gt 0$, и **коэффициентом затухания**, если $d \lt 0$ . На практике обычно знак минус перед коэффициентом затухания опускают и коэффициент затухания определяют как положительную величину.

Название единицы измерения «децибел» связано с именем Александра Белла, который является одним из основоположников телефонии. В **1876** году он получил патент на метод и аппарат для передачи речи с помощью электрических волн. (В действительности же пальма первенства в изобретении телефона принадлежит итальянцу Антонио Меуччи, который подал заявку на патент в 1871 году, но не получил его. Однако в 2002 году Конгресс США принял резолюцию о «приоритете изобретения телефона за А. Меуччи»).

В честь Белла названа логарифмическая единица измерения бел, представляющая собой логарифмическое отношение некоторой физической величины к одноимённой физической величине, принимаемой за исходную.

В электрических линиях связи в децибелах может быть выражено отношение двух напряжений или токов. Следует отметить, что в этом случае коэффициент при десятичном логарифме становится равным 20, а не 10. В этом легко убедиться, если вспомнить формулу, связывающую мощность сигнала с током и напряжением.

Соответствие между значением коэффициента затухания (усиления), вычисленного в децибелах, и значением коэффициента передачи иллюстрируется **таблицей**. Так, 3 дБ соответствует двухкратному изменению мощности сигнала, а 10 дБ – десятикратном, 20 дБ – 100-кратному и т.д.

Удобство вычисления ослабления (усиления) в децибелах состоит в том, что при каскадном включении нескольких участков линии или устройств значения $d$ складываются, а коэффициенты передач – перемножаются.

**Пример**. Рассмотрим канал связи длиной 0,4 км, соединяющий два узла У1 и У2. Положим, что в узле У1 формируется сигнал мощностью 2 ватта. Известно, что коэффициент затухания в канале связи составляет 5 дБ/100 м. Чему будет равна мощность сигнала на приемном конце в узле У2?

Затухание в канале связи длиной 400 метров будет в 4 раза больше коэффициента затухания и равно 20 дБ, что соответствует 100-кратному уменьшению мощности сигнала, которая будет равна 20 милливаттам.

#### Характеристики мощности сигнала

Мощность передаваемого сигнала в телекоммуникационной сети сигнала может задаваться в виде: 
1) абсолютной мощности $P$, измеряемой в абсолютных единицах: Вт, мВт, мкВт; 
2) относительной мощности $d$, измеряемой в дБ как логарифм отношения двух абсолютных мощностей $P_1$ и $P_2$; 
3) опорной мощности p, измеряемой как логарифм отношения абсолютной мощности P к мощности в один милливатт, единицей измерения которой служит [дБм].

Между абсолютной и опорной мощностью существует взаимно однозначное соответствие, вытекающее из определения опорной мощности.

Опорная мощность позволяет упростить энергетические расчеты линии связи.

#### Гармонический сигнал

Сигналы, используемые для передачи данных, должны быть информативными, то есть иметь некоторые изменяющиеся параметры, которые в точке приёма позволят идентифицировать передаваемые данные. В качестве такого информативного сигнала обычно используется так называемый **гармонический сигнал**, описываемый в виде синусоиды или косинусоиды:

$$y(t)=A\sin(\omega t+\varphi)=A\cos(\omega t+\varphi'),$$

где 

- $А$ – амплитуда; 
- $\omega$ – круговая частота: $\omega = 2\pi f$ ($f$ – линейная частота: $f =1/T$ – величина, обратная периоду $T$); 
- $\varphi, \varphi'$ – начальная фаза, причем: $\varphi' = \varphi - \frac{\pi}{2}$

Единица измерения амплитуды совпадает с единицей измерения соответствующей физической величины (ватт, вольт, ампер), единица измерения линейной частоты – Герц (Гц), единицы измерения фазы –радианы или градусы.

Гармонический сигнал несет в себе информацию в виде трех параметров: амплитуды, частоты и фазы. Например, для представления цифр от 0 до 9 могут использоваться 10 уровней амплитуды или 10 значений частот синусоидального сигнала, а также любое их сочетание, например, 2 амплитуды и 5 частот.

От частоты сигнала зависит скорость передачи данных – **чем выше частота, тем больше скорость передачи данных**, т.е. предпочтительными являются высокочастотные сигналы.

Основное требование к среде передачи данных состоит в обеспечении качественного переноса сигнала с минимально возможными искажениями его параметров, исключающими ошибочное распознавание сигнала на приемной стороне.

## Слайд 4

#### Спектр сигнала

В общем случае передаваемый непрерывный сигнал может иметь произвольную форму, описываемую в виде периодической функции $y(t)$. Такой сигнал может иметь временные изменения любой скорости – от самых медленных до бесконечно быстрых скачкообразных изменений.

Бесконечно быстрые скачкообразные изменения характерны для дискретных, в том числе, двоичных сигналов.

Известно, что любая периодическая функция $y(t)$ может быть разложена в **ряд Фурье**, представляющий собой сумму синусоид и косинусоид, называемых гармониками, с разными параметрами - амплитудами, частотами и начальными фазами.

Гармоника с наименьшей частотой называется первой или основной гармоникой, частоты же всех **остальных гармоник** кратны основной частоте.

Можно показать, что **непрерывный периодический сигнал** $y(t)$ может быть представлен в виде ряда Фурье с конечным числом косинусоид и синусоид, называемых гармониками (Формула), где $A_i$ – амплитуда; $\varphi_𝑖$ – начальная фаза; $\omega_i$ – круговая, а $f_i$ – линейная частота $i$-й гармоники. Косинусоиды и синусоиды пронумерованы таким образом, что их частоты образуют возрастающую последовательность – чем больше номер синусоиды и синусоиды, тем больше ее частота. Разница между наибольшим значением частоты $f_n$ и наименьшим значением $f_1$ имеет конечное значение и определяет спектр сигнала. Такие
сигналы называются сигналами с ограниченным спектром.

В случае дискретных сигналов разложение в ряд Фурье содержит бесконечное число косинусоид с частотами от 0 до бесконечности. Частота, равная нулю, характеризует постоянную составляющую сигнала, а частота, равная бесконечности, характеризует мгновенные скачки при изменении уровня сигнала. Такие **сигналы называются сигналами с неограниченным спектром.**

На практике реальные сигналы не могут иметь скачкообразных изменений с бесконечной скоростью. Обычно при переходе от одного уровня к другому сигнал нарастает и убывает с конечной скоростью, которая зависит от быстродействия элементов, формирующих эти сигналы. Это означает, что любой реальный сигнал имеет передний и задний **фронт** и, следовательно, его спектр всегда меньше бесконечности.

## Слайд 5

#### Спектр непрерывных сигналов

**Непрерывные сигналы**, с помощью которых передаются телефонные, аудио и видео данные имеют определенный спектр частот, диктующий требования к среде передачи – каналу связи.

**Телефонные (голосовые) данные**, представляющие собой речь в спектре частот от 80 до 12000 Гц, передаются по телефонным КС (ТфКС), называемым каналами тональной частоты (ТЧ). Речь по таким каналам передаётся в ограниченной полосе частот от 300 Гц до 3400 Гц, что обеспечивает разборчивость фраз более 99%.

**Аудиоданные включают в себя**,  кроме речи, музыку, пение и т.п. в спектре частот от 20 Гц до 20 кГц. Для качественной передачи аудио данных достаточна полоса частот от 30 Гц до 15 кГц, поскольку человеческий слух практически не воспринимает частоты выше 15 кГц.

**Видеоданные** представляют собой совокупность движущихся изображений и звукового сопровождения в полосе частот 6 МГц и более. В настоящее время различают видеоданные трёх типов, отличающиеся требованиями к качеству передачи: 

- **видеоконференцсвязь**, представляющая собой медленно изменяющиеся изображения и характеризующаяся невысокими
требованиями к качеству передачи и, соответственно, к скорости передачи; 
- **телевизионное вещание обычного качества**; 
- **телевизионное вещание высокой чёткости**, характеризующееся высокими требованиями к качеству передачи и требующие наличия высокоскоростных каналов для передачи видеоданных.

## Слайд 6

#### Полоса пропускания

Итак, основной характеристикой сигнала является спектр частот. Похожая характеристика есть и у среды передачи (линии и канала связи), по которой передается информативный сигнал. Это характеристика называется полосой пропускания.

Полоса пропускания (частот) канала (линии) связи – это диапазон частот, в пределах которого передача сигнала по каналу осуществляется без существенного искажения.

Для определения и количественной оценки полосы пропускания канала связи используется амплитудно-частотная характеристика (АЧХ) линии или канала связи, показывающая зависимость амплитуды выходного сигнала в точке приема от частоты гармоник передаваемого сигнала. Если диапазон частот изменяется в достаточно широких пределах (от единиц до миллионов герц), ось частот может изображаться в логарифмическом масштабе.

Для качественной передачи желательно иметь равномерную зависимость, при которой для всех частот изменения значений амплитуд одинаковы. Однако в реальных каналах изменения значений амплитуд для разных частот различны, как показано на графике.

В этом случае полоса пропускания $F$ для канала (линии) связи определяется как область частот в окрестности $f_0$, в которой амплитуда сигнала (напряжение или ток) уменьшается не более чем в $\sqrt{2} =1,41$ раз (в 2 раза для мощности) по сравнению с максимальным значением А0, что примерно соответствует значению -3 дБ: $F = f_в − f_н$ .

При проектировании системы передачи данных, в частности, при расчете ее пропускной способности, важно знать максимальную ширину спектра частот передаваемого сигнала, независимо от его структуры (непрерывный, дискретный).

Для качественной передачи сигнала по каналу связи с возможностью его восстановления (распознавания) в точке приёма необходимо, чтобы выполнялись следующие условия:


- полоса пропускания (частот) $F = f_в − f_н$ канала связи должна быть не менее чем спектр частот сигнала $S = f_𝑛 − f_1:  F \ge S$; 
- ослабление (затухание) сигнала не превышало некоторой пороговой величины, необходимой для его корректного восстановления (распознавания) в точке приема сигнала (**искажение амплитуды сигнала**);
- дрожание фазы (джиттер) не превышало пороговой величины, необходимой для его корректного восстановления (распознавания) в точке приема сигнала (**искажение фазы сигнала**).

#### Характеристики энергетического спектра

Для описания сигналов во многих случаях используются так называемые характеристики энергетического спектра, к которым кроме полосы пропускания относятся максимальная (пиковая), средняя и минимальная мощности сигнала. На их основе рассчитываются такие характеристики энергетического спектра как **динамический диапазон и пикфактор**.

Например, для **телефонных сетей** общего пользования мощность звуков при разговоре изменяется в пределах от 0,01 мкВт при шепоте до 10 тысяч мкВт при крике, при этом средняя мощность речи при обычном разговоре приблизительно равна 10 мкВт. Таким образом, динамический диапазон и пикфактор речевых сигналов оказывается достаточно большим: 60 и 30 дБ соответственно.

Проектирование каналов телефонной связи обычно выполняется с расчетом на нормальный разговор без криков и шепота для значений динамического диапазона и пикфактора, не превышающих 27 и 18 дБ соответственно, что позволяет сократить затраты и упростить решение многих технических проблем.

## Слайд 7

#### Модуляция 

При использовании низкочастотных кабельных линий связи (например, телеграфных), полоса частот которых начинается примерно от нуля, дискретные сигналы можно передавать в их естественном виде – без модуляции (в первичной полосе частот) – с небольшой скоростью.

Передача голоса по телефонному каналу связи тональной частоты (ТЧ) осуществляется в полосе частот 300 – 3400 Гц .

Представленная на рисунке АЧХ **высокочастотной линии** имеет широкую полосу пропускания (1 ГГц), но при этом становится проблемной передача низкочастотного сигнала, спектр которого находится в области частот с большим коэффициентом затухания, что делает невозможным передачу на большое расстояние.

Для качественной передачи такого сигнала по высокочастотной линии необходимо перенести сигнал в другую полосу частот, в которой затухание передаваемого сигнала значительно меньше. Такая процедура переноса сигнала в заданную полосу частот путем изменения амплитуды, частоты, фазы в соответствии с информативным сигналом называется **модуляцией**.

Передача сигналов по каналам связи с резко ограниченной полосой пропускания осуществляется посредством модуляции и демодуляции с помощью специальных устройств, называемых **модемами** (модулятор- демодулятор). На рисунке иллюстрируется применение модемов для преобразования дискретного сигнала, поступающего от оконечного оборудования данных (ООД), представляющего собой, например, компьютер, в непрерывный сигнал, передаваемый по линии связи (модуляция), и обратное преобразование непрерывного сигнала в дискретный на приёмном конце (демодуляция).

**Модуляция** (modulation) – перенос сигнала в заданную полосу частот путем изменения параметра (амплитуды, частоты, фазы; величины или направления постоянного тока) переносчика сигнала, называемого несущей, в соответствии с функцией, отображающей передаваемые данные. Другими словами модуляция – это изменение характеристик несущей в соответствии с информативным сигналом.

**Несущая** (carrier) – аналоговый высокочастотный сигнал, подвергаемый модуляции (изменению) в соответствии с некоторым информативным сигналом. Несущая, как правило, имеет меньшие показатели затухания и искажения, чем немодулированный информативный сигнал.

### 3. Методы модуляции и кодирования данных

## Слайд 8

#### Классификация методов преобразования сигналов

Модуляцию и кодирование иногда рассматривают как близкие и даже одинаковые понятия. Но это не так. Между ними имеется существенная разница хотя бы потому, что имеются два разных устройства модем и кодек. Как должно быть понятно из их названия, первое устройство предназначено для модуляции и демодуляции, а второе – для кодирования и декодирования.

В общем случае, кодирование рассматривается как процесс преобразования (способ представления) данных в вид, требуемый для передачи по линии связи и позволяющий, в некоторых случаях, обнаруживать и исправлять ошибки, возникающие из-за помех при их передаче. В зависимости от параметров среды передачи и требований к качеству передачи данных могут использоваться различные методы кодирования.

В более узком смысле в современных телекоммуникационных системах под кодированием понимают способ представления дискретных данных в виде двоичных символов.

Передача данных в телекоммуникационных системах осуществляется в виде физических сигналов различной природы (электрических, оптических, радиоволн) в зависимости от используемой среды передачи. Для обеспечения качественной передачи применяются разные способы преобразования передаваемых данных в виде непрерывных или дискретных первичных сигналов с последующим формированием линейных физических сигналов (непрерывных или дискретных соответственно), передаваемых непосредственно по линии связи.

Возможны 4 варианта преобразования данных, представленных в виде первичного сигнала, в линейные сигналы: 

- непрерывные данные в виде непрерывного сигнала; 
- непрерывные данные в виде дискретного сигнала; 
- дискретные данные в виде непрерывного сигнала;
- дискретные данные в виде дискретного сигнала.

Процесс преобразования непрерывных первичных сигналов и их представление в виде физических линейных сигналов для качественной передачи по линиям связи называется **модуляцией**.

Модуляция может осуществляться: 

- на основе непрерывного (аналогового) высокочастотного синусоидального сигнала, называемого несущей (**аналоговая
модуляция**);
- на основе дискретного (цифрового) сигнала в виде импульсов
(**импульсная** или **цифровая модуляция**).

Процесс преобразования дискретных данных, представляемых дискретными первичными сигналами, в физические линейные сигналы (непрерывные или дискретные), передаваемые по каналу (линии) связи, называется **физическим кодированием**.

Физическое кодирование может быть реализовано: 

- на основе непрерывного (аналогового) синусоидального несущего сигнала (**манипуляция**); 
- на основе последовательности прямоугольных импульсов (**цифровое кодирование**).

Рассмотрим подробно перечисленные методы преобразования сигналов.

## Слайд 9

### 1. Аналоговая модуляция непрерывных данных

Аналоговая модуляция – преобразование непрерывного низкочастотного первичного информативного сигнала x(t) в непрерывный высокочастотный линейный сигнал y(t) , который называется несущей и обладает лучшими характеристиками в отношении дальности передачи и затухания. Аналоговая модуляция может быть реализована двумя способами: 

1) амплитудная модуляция, при которой амплитуда высокочастотного сигнала y(t) изменяется в соответствии с исходной функцией x(t) так, как это показано на рисунке: огибающая амплитуды несущей повторяет форму исходной функции x(t);
2) частотная модуляция, при которой в соответствии с исходной функцией x(t) изменяется частота несущей – чем больше значение x(t), тем больше частота несущей y(t) .

Аналоговая модуляция используется в радиовещании при работе множества радиостанций в одной общей среде передачи (радиоэфире): амплитудная модуляция для работы радиостанций в АМ-диапазоне (Amplitude Modulation) и частотная модуляция для работы радиостанций в FM-диапазоне (Frequence Modulatin).   

## Слайд 10

### 2. Импульсная модуляция непрерывных данных

Использование цифровых каналов связи для передачи телефонных данных (речевого сигнала) в начале 60-х годов прошлого века потребовало разработки методов преобразования непрерывных сигналов в дискретные, таких как: 
1) амплитудно-импульсная модуляция; 
2) импульсно-кодовая модуляция.

**Амплитудно-импульсная модуляция (АИМ)** (Pulse Аmplitude Modulation – PAM) заключается в преобразовании непрерывного сигнала в совокупность дискретных сигналов (*импульсов*) с определенной *амплитудой*. Для этого исходная непрерывная функция $x(t)$ подвергается дискретизации (квантуется) по времени так, как это показано на рисунке. Частота дискретизации по времени определяется в соответствии с теоремой Котельникова, которая гласит, что для восстановления без потерь непрерывного сигнала, представленного в дискретном виде, частота дискретизации $F_d$ должна удовлетворять условию: $F_d \gt 2 f_в$ , где $f_в$ – верхняя частота передаваемого сигнала $x(t)$. В полученные таким образом дискретные моменты времени передаются импульсы $y(t)$ , амплитуда которых пропорциональна значениям функции $x(t)$ в эти же моменты времени.

Существенным недостатком АИМ при передаче оцифрованных данных по каналу связи является сложность корректного восстановления функции $x(t)$ на приёмном конце, что обусловлено непропорциональным изменением (затуханием) амплитуд разных импульсов $y(t)$ в процессе передачи по каналу связи. В связи с этим, более широкое распространение получил другой метод передачи непрерывных данных в дискретном виде – импульсно-кодовая модуляция.

**Импульсно-кодовая модуляция (ИКМ)** (Pulse Code Modulation – PCM) – метод модуляции, при котором аналоговый сигнал кодируется сериями импульсов, представляющими собой цифровые коды амплитуд в точках отсчета аналогового сигнала.

Для этого исходный сигнал подвергается дискретизации (квантуется) по двум координатам: 

- по оси абсцисс – дискретизация по времени;
- по оси ординат – дискретизация по уровню.

Дискретизация по времени, как и в случае АИМ, выполняется в соответствии с теоремой Котельникова. Поскольку ИКМ первоначально разрабатывалась для передачи телефонных данных (голоса) по телефонным каналам, имеющим резко ограниченную полосу пропускания в интервале от 300 Гц до 3400 Гц, то в соответствии с теоремой Котельникова частота дискретизации должна быть больше, чем 6800 Гц. Стандартом была рекомендована частота дискретизации 8000 Гц. Таким образом, амплитуда аналогового сигнала измеряется 8000 раз в секунду, то есть каждые 125 мкс.

Кроме того, было установлено, что для качественного восстановления аналогового сигнала (голоса) достаточно иметь 256 уровней дискретизации, что позволяет передавать в каждый момент времени значение амплитуды (номер уровня) сигнала с помощью 8-разрядного цифрового кода (8 бит), как это показано на рисунке.

Таким образом, *результирующий дискретный поток данных передается со скоростью* 8000 [раз в секунду]*8 [бит] = 64 000 бит/с, то есть *для передачи оцифрованного голоса требуется канал связи с пропускной способностью 64 кбит/с.*

Для уменьшения требуемой для передачи оцифрованного голоса пропускной способности канала связи применяется модифицированный метод ИКМ, стандартизованный комитетом ITU-T (стандарт G.726) – **адаптивная дифференциальная импульсно-кодовая модуляция** (АДИКМ, Adaptive Differential Pulse Code Modulation – ADPCM).

Термин «дифференциальная (разностная)» означает, что по каналу связи передаётся не значение амплитуды, а разность между текущим значением непрерывного сигнала в точке квантования и предыдущим. Поскольку скорость изменения исходного аналогового сигнала меньше частоты квантования, то вероятность большого различия между соседними амплитудами чрезвычайно мала, и для кодирования этой разности достаточно 4-х бит, позволяющих закодировать эту разность в интервале от 0 до 15. Тогда при условии, что частота квантования по времени составляет 8000 раз в секунду, получим скорость передачи 8000*4 = 32 кбит/с, что вдвое меньше стандартной скорости ИКМ.

Более сложным вариантом дифференциальной импульсно-кодовой модуляции является кодирование с предсказанием, при котором кодируется и передаётся разница между реальным и предсказанным на основе нескольких предыдущих отсчётов значением сигнала. Это позволяет ещё больше уменьшить количество битов для кодирования одного замера сигнала и, следовательно, уменьшить требование к пропускной способности канала связи. Стандарт G.726 допускает использование 5-и, 3-х и 2-х битов для кодирования одного замера сигнала, что позволяет получить скорости передачи (битрейты) 40, 24 и 16 кбит/с.

Адаптивность модуляции заключается в динамическом выборе величины шага квантования в зависимости от предыдущих значений.

## Слайд 11

#### 3. Методы модуляции (манипуляции) дискретных данных

Процесс представления дискретных (цифровых) данных в виде непрерывного высокочастотного синусоидального сигнала (несущей) по своей сути является аналоговой модуляцией дискретных данных. Однако, для того чтобы его отличать от аналоговой модуляции непрерывных данных, такое преобразование часто называют **манипуляцией**.

Методы манипуляция были разработаны для передачи дискретных данных (сигналов) в виде непрерывных сигналов по каналам с узкой полосой частот, например по телефонным каналам, имеющим ограниченную полосу пропускания в 3100 Гц, с использованием модемов. Комбинированные методы манипуляции широко применяются в *беспроводных телекоммуникационных
системах.*

Компьютерные данные – двоичные «1» и «0» – обычно изображаются в виде потенциалов соответственно высокого и низкого уровней. Такой метод представления двоичных данных является наиболее естественным и простым и
называется **потенциальным кодированием**.

Время, затрачиваемое на передачу одного бита («1» или «0»), называется **битовым интервалом**. Длительность $t_b$ битового интервала связана с пропускной способностью канала связи $C$ зависимостью: $tb = 1/C$.

Например, для канала связи с пропускной способностью $С=10$ Мбит/с длительность битового интервала = $100$ нс.

Для передачи двоичных данных могут использоваться следующие методы манипуляции: 

- **амплитудная манипуляция** (Amplitude Shift Keying, ASK): для представления «1» и «0» используются разные уровни амплитуды несущей; из-за низкой помехоустойчивости этот метод обычно применяется в сочетании с другими методами, например с фазовой манипуляцией;  
- **частотная манипуляция** (Frequency Shift Keying, FSK): значения «0» и «1» передаются синусоидами с различной частотой; этот метод прост в реализации и обычно применяется в низкоскоростных модемах;  
- **фазовая манипуляция** (Phase Shift Keying, PSK): значениям «0» и «1» соответствуют синусоиды одинаковой частоты и с одинаковой амплитудой, но с различной фазой, например 0 и 180 градусов.

На практике обычно используются **комбинированные методы модуляции**, обеспечивающие более высокие скорости передачи и лучшую помехозащищённость. Например, метод *квадратурной амплитудной модуляции (Quadrature Amplitude Modulation, QAM)* основан на сочетании фазовой модуляции с амплитудной модуляцией.

На первом рисунке показан метод QPSK. Здесь изображены точки, расположенные под углами 45, 135, 225 и 315 градусов с постоянным уровнем амплитуды, измеряемым как расстояние от начала координат до точки. Фаза этих точек равна углу, образуемому линией, проведенной через точку и начало координат, с положительным направлением горизонтальной оси. Как видно, возможны 4 положения фазового сдвига, значит можно передавать 2 бита за один битовый интервал (00, 01, 10, 11), что позволяет увеличить скорость V передачи данных в 2 раза: V=2C.

На втором рисунке показан комбинированный метод модуляции QAM-16, использующий 16 комбинаций амплитудных и фазовых сдвигов. С его помощью можно передать уже 4 бита за один битовый интервал, что позволяет увеличить скорость V передачи данных в 4 раза: V=4C.

На третьем рисунке еще один метод модуляции QAM-64, использующий 64 комбинации амплитудных и фазовых сдвигов, позволяющих передать 6 бит за один битовый интервал и увеличить скорость передачи данных в 6 раз: V=6C.

И наконец, метод модуляции QAM-256, использующий 256 комбинаций амплитудных и фазовых сдвигов, позволяющих передать 8 бит за один битовый интервал.

Здесь же показана временная диаграмма передачи модулированного высокочастотного сигнала в соответствии с методом QPSK.

Квадратурные методы модуляции широко применяются в беспроводных телекоммуникационных системах.

Распознавание ошибок при использовании квадратурных методов модуляции осуществляется за счёт избыточности кодов, заключающейся в использовании не всех возможных комбинаций сигнала.

## Слайд 12

### 4. Цифровое кодирование

#### Проблемы передачи дискретных сигналов

При цифровом кодировании дискретных данных применяются потенциальные и импульсные коды. В потенциальных кодах для представления двоичных единиц и нулей используется разные значения потенциала сигнала, а в импульсных кодах – импульсы разной полярности или же перепады потенциала в разном направлении.

Для того чтобы разобраться в проблемах, возникающих при передаче цифровых данных на большие расстояния, рассмотрим, каким изменениям подвержен сигнал в процессе передачи по каналу связи (см. рисунок).

В простейшем случае двоичные данные могут быть представлены в виде синусоидального сигнала, в котором положительная часть синусоиды соответствует двоичной «1», а отрицательная – «0» (рисунок, а). Частота такого сигнала определяется длительностью битового интервала $t_b: f_0=\frac{1}{2t_b}$
связанного с пропускной способностью канала С зависимостью $t_b =1/C$ , откуда: $f_0 = C / 2$ .

Передача сигнала на большие расстояния связана со следующими особенностями.

Как известно, сигнал в процессе передачи по каналу связи затухает, его мощность в точке приёма оказывается значительно меньше мощности исходного информативного сигнала (рисунок, б). В любом реальном канале связи имеются внутренние шумы, обусловленные техническими характеристиками среды передачи (линии связи) и каналообразующей аппаратуры. Эти шумы приводят к появлению некоторого фонового сигнала, налагающегося на информативный сигнал. Для того чтобы шум в канале связи не воспринимался на приёмной стороне как информативный сигнал, в приёмнике обычно устанавливается некоторое предельное значение уровня сигнала $\Delta y$ , которое рассматривается как уровень естественного шума и не воспринимается как информативный сигнал. Если мощность информативного сигнала в точке приёма меньше $\Delta y$ , то он будет не различим и, следовательно, потерян. Очевидно, что на приёмной стороне наибольшую мощность синусоидальный сигнал сохраняет в центре битового интервала. Следовательно, для того чтобы с уверенностью распознать его значение, желательно снимать отсчёт в центре битового интервала. Для этого в передающем и принимающем узле необходимо иметь высокоточные часы (таймеры), с помощью которых определяются: в передатчике – моменты формирования сигналов, в приёмнике – моменты снятия значения информативного сигнала в центре битового интервала. Очевидно, что для качественного распознавания сигналов на приёмной стороне, необходимо, чтобы часы передатчика и приёмника работали синхронно. Однако известно, что все часы имеют некоторую погрешность, которая с течением времени приводит к различию в показаниях двух разных часов, находящихся в узле-передатчике и узле-приёмнике, причём это различие со временем растёт. Всё это может привести к тому, что на приёмной стороне некоторые биты могут быть не считаны (пропущены), либо значения некоторых битов будут считаны дважды.

Покажем это на следующих примерах.

**Пример 1.** Пусть длительность битового интервала $t_b = 100$ нс, что соответствует пропускной способности канала связи $C = 10$ Мбит/с. Положим, что часы приёмника за один битовый интервал отстают от часов передатчика на 2 нс. Это означает, что в каждом следующем битовом интервале значение очередного бита будет считано на 2 нс позже по отношению к моменту считывания значения предыдущего интервала, как это показано на рисунке.

Здесь предполагается, что в начальный момент времени «0» часы передатчика и приёмника синхронизированы, поэтому считывание значения первого битового интервала произойдёт на 51-й наносекунде, поскольку за первые 50 нс часы приёмника отстанут только на 1 нс. Моменты считывания значений битов отмечены стрелками, а их значения указаны относительно начала очередного битового интервала. Как видно из рисунка, при отсутствии синхронизации часов передатчика и приёмника не будет считано значение 26-го битового интервала.

**Пример 2.** Положим теперь, что при той же длительности битового интервала в 100 нс часы приёмника за один битовый интервал *опережают* часы передатчика на 2 нс. Это означает, что в каждом следующем битовом интервале значение очередного бита будет считано на 2 нс раньше по отношению к моменту считывания значения предыдущего интервала, как это показано на рисунке. После синхронизации часов передатчика и приёмника считывание значения первого битового интервала произойдёт на 49-й наносекунде. Как видно из рисунка, при отсутствии синхронизации приёмник дважды считает значение 25-го битового интервала.

Для того чтобы не возникали такие ситуации, необходимо поддерживать синхронизацию часов передатчика и приёмника. В компьютерах при обмене цифровыми данными между устройствами эта проблема решается путём использования дополнительного специального канала, по которому передаются тактовые импульсы, определяющие моменты времени, в которые должна сниматься информация. Однако такое решение не приемлемо при передаче информации на большие расстояния ввиду высокой стоимости дополнительного «тактового» канала, а также неодинаковой скорости распространения информативного сигнала и тактовых импульсов из-за неоднородности среды передачи. Последнее может привести к тому, что тактовый импульс придет позже или раньше соответствующего сигнала, в результате чего бит данных будет пропущен или считан повторно. Для решения проблемы синхронизации в компьютерных сетях применяются специальные методы кодирования, позволяющие выполнять синхронизацию часов приёмника и передатчика автоматически. Такие коды называются **самосинхронизирующимися**.

Заметим, что рассмотренная ситуация в действительности оказывается более сложной, поскольку шумы влияют не только на устанавливаемый уровень чувствительности приёмника, но и искажают форму информативного сигнала.

Ни один канал связи не может передавать сигналы без потери мощности. Если бы все гармоники ряда Фурье уменьшались при передаче в равной степени, то сигнал уменьшался бы по амплитуде, но не искажался и сохранял бы исходную форму. Однако *все гармоники уменьшаются в разной степени*, тем самым искажая передаваемый сигнал.

Кроме того, канал связи подвержен влиянию различного рода помех, также искажающих сигнал. Поэтому реальный сигнал в точке приёма оказывается мало похожим на исходный синусоидальный сигнал (рисунок, в). Это может привести к тому, что даже при абсолютно точной синхронизации передатчика и приёмника значение сигнала либо пропадёт, если его уровень окажется меньше $\Delta y$ (рисунок, в), либо будет считано неверное значение (рисунок, г).

С учётом вышесказанного можно констатировать, что для правильного распознавания сигнала на приемной стороне желательно приблизить форму формируемого передатчиком информативного сигнала к исходному прямоугольному виду.

При потенциальном кодировании исходный прямоугольный сигнал, отображающий двоичные «1» и «0», является идеальным теоретическим сигналом, обладающим бесконечным спектром.

Действительно, в начале и в конце такого сигнала скорость изменения его значения (верхняя частота) равна бесконечности, а между ними скорость изменения сигнала (нижняя частота) равна нулю. Реальные сигналы обладают ограниченным спектром, обусловленным наличием *переднего и заднего фронта* потенциального сигнала (см. рисунок), скорость изменения которых конечна и определяется быстродействием элементной базы передатчика, формирующего потенциальный сигнал – чем больше быстродействие, тем меньше длительности фронтов.

Однако передача и такого сигнала с ограниченным спектром оказывается проблематичной из-за наличия в спектре нулевой составляющей. Дело в том, что линии связи с большой полосой пропускания имеют нижнюю границу частот, значительно отличающуюся от нуля. Следовательно, такой сигнал будет передаваться с большими искажениями, что затруднит его восстановление на приёмном конце. Для того чтобы сузить спектр потенциального сигнала, необходимо увеличить нижнюю границу спектра. Это может быть достигнуто, например, наложением высокочастотной составляющей на постоянную составляющую сигнала, заключённую между передним и задним фронтами потенциального сигнала.

Для того чтобы представить, как это можно реализовать, рассмотрим, как изменяется синусоидальный сигнал при добавлении высокочастотных гармоник, приближающих форму передаваемого сигнала к прямоугольной.

## Слайд 13

### 4. Цифровое кодирование

#### Особенности распознавания дискретных сигналов

Рассмотрим, как количество передаваемых гармоник влияет на возможность распознавания на приемном конце канала связи сигнала, используемого для передачи потенциального кода и какое влияние это оказывает на требование к точности синхронизации приемопередающего оборудования.

На первом рисунке показан сигнал, содержащий одну **основную
гармонику.**

Основная гармоника $y_0(t)$ имеет частоту
$f_0=\frac{1}{2t_b}$ , где $t_b$ – длительность битового интервала, и амплитуду $A_0 =100$, равную уровню потенциала исходного потенциального кода $x(t): y_0(t) = A_0\sin(2\pi f_0)$. Здесь же показан интервал $\Delta_0$ , в котором значения сигнала $y_0(t) \ge 50$ . Интервал $\Delta_0$ можно рассматривать как область битового интервала, в пределах которого с высокой вероятностью гарантируется правильное распознавание значения передаваемого бита.

На втором рисунке показан сигнал, содержащий две гармоники:

$$y_(t)=A_0\sin(2\pi f_0)+A_1\sin(2\pi f_1)$$

где $A_1=\frac{A_0}{3}$ и $f_1=3f_0$

Отметим, что интервал $\Delta_1$, в котором значения сигнала $y_1(t) \ge 50$ , больше, чем $\Delta_0$ . Благодаря этому увеличивается вероятность правильного распознавания значения переданного бита на приёмном конце и уменьшается требование к точности синхронизации часов передатчика и приёмника. Заметим, что это достигается за счёт трёхкратного увеличения спектра сигнала и, как следствие, увеличения требуемой пропускной способности канала связи.

На третьем рисунке показан сигнал, содержащий три гармоники: $y_2(t)=A_0\sin(2\pi f_0) + A_1\sin(2\pi f_0) + A_2\sin(2\pi f_2)$, где $A_2=\frac{A_0}{5}$ и $f_2=5f_0$. Интервал $\Delta_2$ , в котором значения сигнала превышают 50, больше, чем интервал $\Delta_1$

И, наконец, на четвертом рисунке показан сигнал, содержащий 4 гармоники: $y_3(t) = A_0\sin(2\pi f_0)+A_1\sin(2\pi f_1) + A_2\sin(2\pi f_2) + A_3\sin(2\pi f_3)$ , где $A_3=\frac{A_0}{7}$ и $f_3 = 7 f_0$. Интервал $\Delta_3$ , в котором значения сигнала $y_3(t) \ge 50$, больше интервала $\Delta_2$ .

Следует иметь в виду, что спектр сигнала меняется в зависимости от передаваемых данных.

Например, передача длинной последовательности нулей или единиц сдвигает спектр сигнала потенциального кода в сторону низких частот и приводит к появлению в сигнале так называемой **постоянной составляющей**.

В предельном случае, когда передаваемые данные состоят только из единиц (или только из нулей), частота передаваемого сигнала при потенциальном кодировании будет равна нулю.

## Слайд 14

### 4. Цифровое кодирование

#### Требования к методам кодирования

Методы цифрового кодирования оказывают существенное влияние на качество передачи дискретных данных (надёжность и достоверность доставки сообщений, возможность обнаружения и исправления ошибок, стоимость реализации) и в значительной мере определяют требуемую пропускную способность среды передачи.

В связи с этим, к методам цифрового кодирования предъявляются следующие **требования**:

- минимизация спектра результирующего сигнала при одной и той же
битовой скорости; 
-  поддержка синхронизации между передатчиком и приёмником сигналов за счёт наличия свойства самосинхронизации;
- отсутствие постоянной составляющей;
- возможность обнаружения ошибок и их исправления;
- низкая стоимость реализации метода кодирования.

**Минимизация спектра результирующего сигнала** позволяет при одной и той же полосе пропускания канала связи передавать больший объем данных за единицу времени, например, за счёт частотного мультиплексирования и организации нескольких логических каналов в одной и той же линии связи, что обеспечивает более высокую скорость передачи данных.

Кроме того, часто к спектру сигнала предъявляется требование отсутствия постоянной составляющей, то есть наличия постоянного тока между передатчиком и приемником, поскольку применение различных трансформаторных схем гальванической развязки в электрических линиях связи препятствует прохождению постоянного тока.

Спектр результирующего сигнала зависит от:

- метода кодирования (модуляции); 
- скорости модуляции, определяющей скорость передачи данных; 
- состава передаваемых данных.

**Поддержка синхронизации** между передатчиком и приёмником сигналов для определения момента считывания в приёмнике значения очередного битового интервала может быть реализована за счёт применения самосинхронизирующихся методов кодирования. Указанием для синхронизации приемника с передатчиком в этих методах может служить любой резкий перепад сигнала – так называемый **фронт**.

**Отсутствие постоянной составляющей** необходимо для поддержки синхронизации приёмника с передатчиком, а также для того, чтобы нижняя частота кодированного сигнала как можно больше отличалась от нуля, что, соответственно, уменьшает спектр сигнала.

Кроме того, требование отсутствия постоянной составляющей в электрических телекоммуникационных сетях, то есть наличия постоянного тока между передатчиком и приемником, связано также с применением трансформаторных схем гальванической развязки, которые не пропускают постоянный ток. Необходимость гальванической развязки в электрических линиях связи обусловлена требованием защиты оборудования сети от непредвиденных ситуаций. В частности, короткое замыкание в одном из узлов (устройств) сети не должно приводить к выходу из строя всех остальных устройств, объединённых единой электрической средой передачи данных.

Низкая стоимость реализации метода кодирования связана с количеством уровней сигнала – чем больше уровней сигнала, тем выше стоимость реализации. Это обусловлено необходимостью применения более мощного и, следовательно, более дорогого приёмно-передающего оборудования.

Требования, предъявляемые к методам кодирования, являются взаимно противоречивыми, поэтому каждый из рассматриваемых ниже методов цифрового кодирования по сравнению с другими обладает своими достоинствами и недостатками.

## Слайд 15

### 4. Цифровое кодирование

#### Методы физического кодирования дискретных данных 

#### 1. Потенциальный код без возврата к нулю (NRZ)

Наиболее простым и понятным методом кодирования бинарных сообщений является потенциальное кодирование, называемое также кодированием *без возврата к нулю* – NRZ (Non Return to Zero), в котором высокий потенциал соответствует значению бита «1», а низкий – значению «0».

**Достоинства:**

- низкая частота основной гармоники: $f_0 = \frac{C}{2}$  Гц, где $C = \frac{1}{t_b}$ – битовая скорость передачи данных ($t_b$ – длительность битового интервала); 
- наличие только двух уровней потенциала и, как следствие, простота и низкая стоимость.

**Недостатки:**

- не обладает свойством самосинхронизации: при передаче длинной последовательности единиц или нулей сигнал не изменяется, что может привести к рассинхронизации часов приёмника и передатчика; 
- наличие низкочастотной составляющей при наличии в сообщении длинных последовательностей «единиц» или «нулей» не позволяет использовать этот вид кодирования в каналах связи при отсутствии прямого гальванического соединения между приемником и источником.

По этим причинам в телекоммуникационных сетях код NRZ в чистом виде не используется, но используются его модификации, в которых устраняют постоянную составляющую и обеспечивают синхронизацию приемника и передатчика.

#### 2. Биполярный импульсный код (RZ)

Кроме потенциальных кодов в телекоммуникационных сетях используются импульсные коды, в которых данные представлены полным импульсом или же его частью – фронтом. Наиболее простым является биполярный импульсный код, называемый также кодированием с возвратом к нулю (Return to Zero, RZ), в котором единица представлена импульсом одной полярности, а ноль – импульсом другой полярности. Каждый импульс длится половину такта (битового интервала). В середине каждого битового интервала происходит возврат к нулевому потенциалу.

**Достоинство:**

- обладает свойством самосинхронизации – возврат в середине каждого битового интервала к нулевому потенциалу служит признаком (стробом) для синхронизации часов приёмника.
Недостатки:
- наличие трех уровней сигнала, что требует увеличения мощности передатчика для обеспечения достоверности приема и, как следствие, большая стоимость реализации; 
- спектр сигнала шире, чем у потенциальных кодов; так, при передаче всех нулей или единиц частота основной гармоники  $f_0 = C$ Гц, что в два раза выше основной гармоники кода NRZ.

Из-за слишком широкого спектра и трех уровней сигнала биполярный импульсный код используется редко.

#### 3. Биполярное кодирование с альтернативной инверсией (AMI)

Одной из модификаций метода RZ является метод биполярного кодирования с альтернативной инверсией (Bipolar Alternate Mark Inversion, AMI), в котором используются три уровня потенциала – положительный, нулевой и отрицательный. Двоичный «0» кодируется нулевым потенциалом, а двоичная «1» – либо положительным потенциалом, либо отрицательным, при этом потенциал следующей единицы противоположен потенциалу предыдущей.

**Достоинства:**

- ликвидируется проблема постоянной составляющей и отсутствия самосинхронизации при передаче длинных последовательностей единиц, поскольку сигнал в этом случае представляет собой последовательность разнополярных импульсов с тем же спектром, что и у кода NRZ, передающего чередующиеся нули и единицы; 
- в целом, использование кода AMI приводит к более узкому спектру сигнала, чем для кода NRZ, а значит и к более высокой пропускной способности канала связи, в частности, при передаче чередующихся единиц и нулей частота основной гармоники  $f_0 = C_2$  Гц; 
- предоставляет возможность распознавать ошибочные сигналы при нарушении чередования полярности сигналов; сигнал с некорректной полярностью называется запрещенным сигналом.

**Недостатки:**

- наличие трёх уровней сигнала, что требует повышенной мощности передатчика; 
- наличие постоянной составляющей в сигнале в случае длинных последовательностей нулей.

#### 4. Потенциальный код с инверсией при единице (NRZI)

Потенциальный код с инверсией при единице (Non Return to Zero with ones Inverted, NRZI) похож на AMI, но имеет только два уровня сигнала. При передаче нуля он передает потенциал, который был установлен в предыдущем такте, а при передаче единицы потенциал меняется на противоположный.

#### 5. Код трехуровневой передачи MLT-3

Код трехуровневой передачи MLT-3 (Multi Level Transmission-3) имеет много общего с кодом AMI. Единице соответствует последовательный переход на границе битового интервала с одного уровня сигнала на другой. При передаче нулей сигнал не меняется.

Максимальная частота сигнала достигается при передаче длинной последовательности единиц. В этом случае изменение уровня сигнала происходит последовательно с одного уровня на другой с учетом предыдущего перехода.

**Недостатки:**

- отсутствие свойства самосинхронизации; 
- наличие трех уровней сигнала; 
- наличие постоянной составляющей в сигнале в случае длинной последовательности нулей.

#### 6. Манчестерский код (Манчестер 2)

В локальных сетях до недавнего времени широко применялся манчестерский код, в котором для кодирования двоичных единиц и нулей используется переход сигнала в середине каждого битового интервала: 

- «1» кодируется переходом от высокого уровня сигнала к низкому; 
- «0» – обратным переходом от низкого уровня сигнала к высокому.

Если данные содержат подряд несколько единиц или нулей, то в начале каждого битового интервала происходит дополнительный служебный переход сигнала.

**Достоинства:**

- обладает свойством самосинхронизации, так как значение потенциала всякий раз изменяется в середине битового интервала, что может служить сигналом для синхронизации приёмника с передатчиком; 
- имеет только два уровня потенциала; 
- спектр манчестерского кода меньше, чем у биполярного импульсного, в среднем в 1,5 раза: основная гармоника при передаче последовательности единиц или нулей имеет частоту $f_0 = C$  Гц, а при передаче чередующихся единиц и нулей она равна 𝑓0 = 𝐶/2 Гц, как и у кода NRZ; 
- нет постоянной составляющей.
Недостатки:

- спектр сигнала шире, чем у кода NRZ и кода AMI.

#### 7. Дифференциальный манчестерский код 

Дифференциальный или разностный манчестерский код представляет собой разновидность манчестерского кода с двумя уровнями потенциала: 

- «0» кодируется изменением потенциала в начале битового интервала; 
- «1» – сохранением предыдущего уровня потенциала.

В середине каждого битового интервала обязательно присутствует переход с одного уровня потенциала на другой.

#### 8. Пятиуровневый код PAM-5

В пятиуровневом коде PAM-5 (Pulse Amplitude Modulation) используется 5 уровней амплитуды сигнала и двухбитовое кодирование, означающее наличие четырёх уровней, соответствующих двум битам передаваемых данных: 00, 01, 10, 11, то есть в одном битовом интервале передаются сразу два бита. Пятый уровень добавлен для создания избыточности кода, используемого для исправления ошибок.

**Достоинства:**

- при одной той же скорости модуляции (длительности битового интервала) по каналу связи можно передавать данные в два раза быстрее по сравнению с AMI или NRZI, так как в одном битовом интервале передаются сразу два бита.

**Недостатки:**

- длинные последовательности одинаковых пар бит приводят к появлению в сигнале постоянной составляющей; 
- наличие 4-х уровней требует большей мощности передатчика, чтобы уровни четко различались приемником на фоне помех.

## Слайд 17

### 4. Цифровое кодирование

#### Логическое кодирование

Логическое кодирование предназначено для улучшения потенциальных кодов типа AMI, NRZI или MLT-3 и направлено на ликвидацию длинных последовательностей единиц или нулей, приводящих к постоянному потенциалу.

Для улучшения потенциальных кодов используются два способа: 
- избыточное кодирование; 
- скремблирование.

Оба способа относятся к логическому, а не физическому кодированию, так как они не определяют форму сигналов.

#### 1. Избыточное кодирование

При избыточном кодировании исходный двоичный код рассматривается как совокупность символов, представляющих собой последовательность нескольких битов, каждый из которых заменяется новым символом, содержащим большее количество бит, чем исходный.

К методам избыточного кодирования относятся: 4В/5В, 5В/6В, 8В/10В, 64В/66В.

Буква «В» в названии кода означает, что элементарный сигнал имеет 2 состояния (binary – двоичный), а цифры указывают, какое количество бит содержится в одной последовательности исходного и результирующего кода соответственно.

Например, метод 4В/5В означает, что каждые 4 бита в исходном коде заменяются 5-ю битами в результирующем коде, то есть четырёхбитные символы исходного кода заменяются символами, содержащими по 5 бит. Для этого используется специальная **таблица перекодировки**, устанавливающая соответствие между исходными четырёхбитовыми символами и результирующими пятибитовыми символами.

Количество результирующих символов больше количества исходных символов. Так, в коде 4В/5В результирующих символов может быть $2^5=32$, в то время как исходных символов только $2^4=16$. Поэтому среди результирующих символов можно отобрать 16 таких, любое сочетание которых не содержит длинных последовательностей нулей или единиц (в худшем случае 3 нуля или 8 единиц). Остальные 16 символов (избыточных кодов) рассматриваются как запрещенные, появление которых означает ошибку в передаваемых данных.

Избыточность кода 4B/5B составляет 25% (1/4 =0,25), поскольку на 4 информационных бита приходится 1 «лишний» избыточный бит. Это означает, что реальная пропускная способность канала будет на 25% меньше номинальной. Для обеспечения заданной пропускной способности канала передатчик должен работать с повышенной тактовой частотой. В частности, для передачи кодов 4В/5В со скоростью 100 Мбит/с передатчик должен работать с тактовой частотой 125 МГц. При этом спектр сигнала увеличивается по сравнению со случаем, когда передается не избыточный код. Тем не менее, спектр избыточного кода меньше спектра манчестерского кода, что оправдывает использование логического кодирования.

**Достоинства:**

- код становится самосинхронизирующимся, так как прерываются длинные последовательности нулей и единиц; 
- исчезает постоянная составляющая, а значит, сужается спектр сигнала; 
- появляется возможность обнаружения ошибок за счёт запрещённых символов; 
- простая реализация в виде таблицы перекодировки.

**Недостатки:**

- уменьшается полезная пропускная способность канала связи, так как часть пропускной способности тратится на передачу избыточных бит; 
- дополнительные временные затраты в узлах сети на реализацию логического кодирования.

В методе логического кодирования 8В/6Т восемь бит (В) исходного сообщения заменяется на код из 6 троичных (Т) символов, имеющих 3 состояния. Количество избыточных, то есть запрещённых кодов: $3^6–2^8=729–256=473$. Таким образом, в 8В/6Т доля запрещенных кодов больше, чем в 4В/5В (65% против 50%), что повышает эффективность обнаружения ошибок.

#### 2. Скремблирование

Скремблирование состоит в преобразовании исходного двоичного кода по заданному алгоритму, позволяющему исключить длинные последовательности нулей или единиц. Технические или программные средства, реализующие заданный алгоритм, называются **скремблерами** (scramble – свалка, беспорядочная сборка). На приёмной стороне **дескремблер** восстанавливает исходный двоичный код.

В качестве алгоритма преобразования может служить соотношение:

$$B_i=A_i\oplus B_{i-3} \oplus B_{i-5} (i=1, 2, \cdots)$$

где $A_i$, $B_i$ – значения $i$-го разряда соответственно исходного и результирующего кода; $B_{i-3}$ и $B_{i-5}$ – значения соответственно ($i-3$)-го и ($i-5$)-го разряда результирующего кода; $\oplus$ – операция исключающего ИЛИ (сложение по модулю 2).
Например, для исходной последовательности $А=110110000001$ скремблер даст следующий результирующий код: 

$$
B_1 = A_1 = 1;\\
B_2 = A_2 = 1;\\
B_3 = A_3 = 0;\\
B_4 = A_4 \oplus B_1 = 1 \oplus 1 = 0;\\
B_5 = A_5 \oplus B_2 = 1 \oplus 1 = 0;\\
B_6 = A_6 \oplus B_3 \oplus B_1 = 0 \oplus 0 \oplus 1 = 1;\\
B_7 = A_7 \oplus B_4 \oplus B_2 = 0 \oplus 0 \oplus 1 = 1;\\
B_8 = A_8 \oplus B_5 \oplus B_3 = 0 \oplus 0 \oplus 0 = 0;\\
B_9 = A_9 \oplus B_6 \oplus B_4 = 0 \oplus 1 \oplus 0 = 1;\\
B_{10} = A_{10} \oplus B_7 \oplus B_5 = 0 \oplus 1 \oplus 0 = 1;\\
B_{11} = A_{11} \oplus B_8 \oplus B_6 = 0 \oplus 0 \oplus 1 = 1;\\
B_{12} = A_{12} \oplus B_9 \oplus B_7 = 1 \oplus 1 \oplus 1 = 1.
$$

Таким образом, на выходе скремблера появится последовательность В=110001101111, в которой нет последовательности из шести нулей, присутствовавшей в исходном коде.

Дескремблер восстанавливает исходную последовательность на основании обратного соотношения: 

$$C_i = B_i \oplus B_{i-3} \oplus B_{i-5}  (i = 1, 2, \cdots).$$

Легко убедиться, что $C_i = А_i$.

Различные алгоритмы скремблирования отличаются количеством слагаемых, дающих цифру результирующего кода и величиной сдвига между слагаемыми.

**Достоинство:**

- в отличие от избыточного кодирования не уменьшается полезная пропускная способность канала связи, поскольку отсутствуют избыточные биты.

**Недостатки:**
- дополнительные затраты в узлах сети на реализацию алгоритма скремблирования-дескремблирования; 
- не всегда удаётся исключить длинные последовательности нулей и единиц.
