<head>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
      }
    });
  </script>
</head>

## [MainPage](../../../index.md)/[DataBase](../../README.md)/Lab 1

<center>
<p>Университет ИТМО<br>Факультет ФПИ и КТ</p>
<br><br><br><br><br><br>
<h2>Отчёт по лабораторной работе 1</h2>
<h1>«Компьютерные сети»</h1>
</center>

<br><br><br><br><br><br><br><br><br><br>

<div align="right">Студент: Чжоу Хунсян</div>
<div align="right">Группа: P33131</div>
<div align="right">Преподаватель:</div>

<center>
<br><br>
<p>Санкт-Петербург 2024</p>
<br>
</center>

---
 
## 1. Цель и краткая характеристика работы

Цель работы – изучить структуру протокольных блоков данных, анализируя реальный трафик на компьютере студента с помощью бесплатно распространяемой утилиты Wireshark.  
这项工作的目的是通过使用免费的 Wireshark 实用程序分析学生计算机上的真实流量来研究协议数据块的结构。

В процессе выполнения домашнего задания выполняются наблюдения за передаваемым трафиком с компьютера пользователя в Интернет и в обратном направлении. Применение специализированной утилиты Wireshark позволяет наблюдать структуру передаваемых кадров, пакетов и сегментов данных различных сетевых протоколов. При выполнении УИР рекомендуется выполнить анализ последовательности команд и определить назначение служебных данных, используемых для организации обмена данными в протоколах: ARP, DNS, FTP, HTTP, DHCP.  
在做作业时，会观察从用户计算机到互联网以及相反方向的传输流量。使用专用的 Wireshark 实用程序可以观察各种网络协议传输的帧、数据包和数据段的结构。执行 URI 时，建议分析命令序列并确定用于组织协议中数据交换的服务数据的用途：ARP、DNS、FTP、HTTP、DHCP。

## 2. URL(Zhou Hongxiang)

https://zhousfive.de/

## 2. Порядок выполнения работы

Ниже представлены пункты задания, из которых первые два пункта (4.1 и 4.2) являются обязательными для выполнения и еще два пункта из предлагаемых (4.3 – 4.8) – по выбору студента.  
以下是任务的要点，其中前两点（4.1 和 4.2）是强制性的，建议要点中的另外两点（4.3 – 4.8）由学生选择。

### 4.1. Анализ трафика утилиты ping

Необходимо отследить и проанализировать трафик, создаваемый утилитой ping, запустив её следующим образом из командной строки:  
您需要通过从命令行运行 ping 实用程序来监视和分析其生成的流量，如下所示：

«ping -l размер_пакета адрес_сайта_по_варианту». 

Например, «ping -l 2000 wireshark.org» (без кавычек).

В качестве «размера_пакета» необходимо поочерёдно использовать различные значения от 100 до 10000, самостоятельно выбрав шаг изменения. По результатам анализа собранной трассы, необходимо ответить на следующие вопросы и выполнить указанные задания.  
对于“packet_size”，您必须交替使用从100到10000的不同值，自行选择更改步骤。根据收集的路线分析结果，需要回答以下问题并完成指定任务。

1. Имеет ли место фрагментация исходного пакета, какое поле на это указывает?  
   原始数据包是否存在分片，哪个字段表示？
2. Какая информация указывает, является ли фрагмент пакета последним или промежуточным?  
   哪些信息表明报文是最后分片还是中间分片？
3. Чему равно количество фрагментов при передаче ping-пакетов?  
   发送ping包时分片数是多少？
4. Построить график, в котором на оси абсцисс находится размер_пакета, а по оси ординат – количество фрагментов, на которое был разделён каждый ping-пакет.  
   构建一个图表，其中 x 轴为 packet_size，y 轴为每个 ping 数据包划分为的分段数。
5. Как изменить поле TTL с помощью утилиты ping?  
   如何使用 ping 实用程序更改 TTL 字段？
6. Что содержится в поле данных ping-пакета?  
   ping 数据包的数据字段包含什么？

### 4.2. Анализ трафика утилиты tracert (traceroute)

Необходимо отследить и проанализировать трафик, создаваемый утилитой tracert (или traceroute в Linux), запустив её следующим образом из командной строки:  
您需要通过从命令行运行tracert实用程序（或Linux上的traceroute）来监视和分析tracert实用程序生成的流量，如下所示：

«tracert -d адрес_сайта_по_варианту»

Например, tracert wireshark.org.

По результатам анализа собранной трассы, ответьте на следующие вопросы.  
根据收集的路线分析结果，回答以下问题。

1. Сколько байт содержится в заголовке IP? Сколько байт содержится в поле данных?  
   IP 报头有多少字节？数据字段有多少字节？
2. Как и почему изменяется поле TTL в следующих друг за другом ICMP-пакетах tracert? Для ответа на этот вопрос нужно проследить изменение TTL при передаче по маршруту, состоящему из более чем двух хопов.  
   连续的 ICMP Tracert 数据包中的 TTL 字段如何以及为何发生变化？要回答这个问题，您需要跟踪沿包含两跳以上的路由进行传输时 TTL 的变化。
3. Чем отличаются ICMP-пакеты, генерируемые утилитой tracert, от ICMP-пакетов, генерируемых утилитой ping (см. предыдущее задание).  
   Tracert 实用程序生成的 ICMP 数据包与 ping 实用程序生成的 ICMP 数据包有何不同（请参阅上一个任务）。
4. Чем отличаются полученные пакеты «ICMP reply» от «ICMP error» и зачем нужны оба этих типа ответов?  
   收到的“ICMP 回复”数据包与“ICMP 错误”数据包有何不同？为什么需要这两种类型的响应？
5. Что изменится в работе tracert, если убрать ключ «-d»? Какой дополнительный трафик при этом будет генерироваться?  
   如果删除“-d”开关，tracert 的操作会发生什么变化？这会产生哪些额外流量？


