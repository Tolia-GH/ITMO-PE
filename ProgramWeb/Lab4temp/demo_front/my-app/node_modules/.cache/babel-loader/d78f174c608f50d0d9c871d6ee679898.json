{"ast":null,"code":"var _jsxFileName = \"/Users/2398768715qq.com/Documents/GitHub/ITMO-PE/ProgramWeb/Lab4temp/demo_front/my-app/src/components/main/mainForm.jsx\";\nimport React from \"react\";\nimport $ from \"jquery\";\nimport '../../assets/css/user_entry.css';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { addDot, GetR, GetX, GetY } from \"../reduxStore/action/action\"; //pure ui component,which only deal with view\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CanvasForm extends React.Component {\n  render() {\n    const {\n      X,\n      Y,\n      R,\n      getX,\n      getY,\n      getR,\n      submitForm\n    } = this.props;\n    let username = window.sessionStorage.getItem(\"username\");\n\n    if (username === null || username === \"\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ah,ha. Seems that you try to bypass login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"canvas_form\",\n          role: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Choose your x:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 20,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(-5),\n                children: \"-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 24,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(-4),\n                children: \"-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 25,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(-3),\n                children: \"-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 26,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(-2),\n                children: \"-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(-1),\n                children: \"-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(0),\n                children: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(1),\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(2),\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"X\",\n                className: \"X\",\n                onClick: () => getX(3),\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"input Y:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-xs-10 col-sm-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"Y\",\n                className: \"form-control\",\n                value: Y,\n                onChange: getY\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"choose your R:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(0),\n                children: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(1),\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(2),\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(3),\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(4),\n                children: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                name: \"R\",\n                className: \"R\",\n                onClick: () => getR(5),\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: event => submitForm(X, Y, R, event),\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nCanvasForm.propTypes = {\n  X: PropTypes.number.isRequired,\n  Y: PropTypes.string.isRequired,\n  R: PropTypes.number.isRequired,\n  getX: PropTypes.func.isRequired,\n  getY: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  submitForm: PropTypes.func.isRequired\n};\n\nfunction mapStateToPros(state) {\n  return {\n    X: state.dot.X,\n    Y: state.dot.Y,\n    R: state.dot.R\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getX: x => dispatch(GetX(x)),\n    getR: r => dispatch(GetR(r)),\n    getY: event => dispatch(GetY(event.target.value)),\n    submitForm: (x, y, r, event) => {\n      event.preventDefault();\n      $.ajax({\n        url: \"api/getDot\",\n        method: \"POST\",\n        data: {\n          X: x,\n          Y: y,\n          R: r,\n          Password: window.sessionStorage.getItem(\"password\"),\n          Username: window.sessionStorage.getItem(\"username\")\n        },\n        async: false,\n        success: function (res) {\n          if (res.wrong) {\n            alert(res.message);\n          } else {\n            dispatch(addDot(res.x, res.y + \"\", res.r, res.hit, res.date)); //alert(\"x=\"+res.x+\" y=\"+res.y+\" r=\"+res.r+\" hit=\"+res.hit+\" date=\"+res.date);\n          }\n        }\n      });\n    }\n  };\n}\n\nexport const MainForm = connect(mapStateToPros, mapDispatchToProps)(CanvasForm);","map":{"version":3,"sources":["/Users/2398768715qq.com/Documents/GitHub/ITMO-PE/ProgramWeb/Lab4temp/demo_front/my-app/src/components/main/mainForm.jsx"],"names":["React","$","PropTypes","connect","addDot","GetR","GetX","GetY","CanvasForm","Component","render","X","Y","R","getX","getY","getR","submitForm","props","username","window","sessionStorage","getItem","event","propTypes","number","isRequired","string","func","mapStateToPros","state","dot","mapDispatchToProps","dispatch","x","r","target","value","y","preventDefault","ajax","url","method","data","Password","Username","async","success","res","wrong","alert","message","hit","date","MainForm"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\nimport '../../assets/css/user_entry.css';\nimport PropTypes from 'prop-types';\nimport {connect} from \"react-redux\";\nimport {addDot, GetR, GetX, GetY} from \"../reduxStore/action/action\";\n\n//pure ui component,which only deal with view\nclass CanvasForm extends React.Component{\n    render(){\n        const {X,Y,R,getX,getY,getR,submitForm} = this.props;\n        let username = window.sessionStorage.getItem(\"username\");\n        if(username===null||username===\"\"){\n            return (<div>Ah,ha. Seems that you try to bypass login</div>);\n        }else {\n            return (\n                <div>\n                    <form id={\"canvas_form\"} role={\"form\"}>\n                        <div className={\"form-group\"}>\n                            <label>\n                                Choose your x:\n                            </label>\n                            <div>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-5)}>-5</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-4)}>-4</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-3)}>-3</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-2)}>-2</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-1)}>-1</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(0)}>0</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(1)}>1</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(2)}>2</button>\n                                <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(3)}>3</button>\n                            </div>\n                        </div>\n                        <div className={\"form-group\"}>\n                            <label>\n                                input Y:\n                            </label>\n                            <br/>\n                            <div className={\"col-xs-10 col-sm-2\"}>\n                                <input type={\"text\"} name={\"Y\"} className={\"form-control\"} value={Y} onChange={getY}/>\n                            </div>\n                        </div>\n                        <br/>\n                        <div className={\"form-group\"}>\n                            <label>\n                                choose your R:\n                            </label>\n                            <div>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(0)}>0</button>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(1)}>1</button>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(2)}>2</button>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(3)}>3</button>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(4)}>4</button>\n                                <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(5)}>5</button>\n                            </div>\n                        </div>\n                        <div className={\"form-group\"}>\n                          <button onClick={(event) => submitForm(X, Y, R, event)}>Add</button>\n                        </div>\n                    </form>\n                </div>\n            );\n        }\n    }\n}\n\nCanvasForm.propTypes = {\n    X:PropTypes.number.isRequired,\n    Y:PropTypes.string.isRequired,\n    R:PropTypes.number.isRequired,\n    getX:PropTypes.func.isRequired,\n    getY:PropTypes.func.isRequired,\n    getR:PropTypes.func.isRequired,\n    submitForm:PropTypes.func.isRequired,\n}\n\nfunction mapStateToPros(state){\n    return{\n        X:state.dot.X,\n        Y:state.dot.Y,\n        R:state.dot.R,\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return{\n        getX:(x)=>dispatch(GetX(x)),\n        getR:(r)=>dispatch(GetR(r)),\n        getY:(event)=>dispatch(GetY(event.target.value)),\n        submitForm:(x,y,r,event)=>{\n            event.preventDefault();\n            $.ajax({\n                url: \"api/getDot\",\n                method:\"POST\",\n                data:{\n                    X:x,\n                    Y:y,\n                    R:r,\n                    Password:window.sessionStorage.getItem(\"password\"),\n                    Username:window.sessionStorage.getItem(\"username\")\n                },\n                async:false,\n                success:function (res){\n                    if(res.wrong) {\n                        alert(res.message);\n                    }else {\n                        dispatch(addDot(res.x,res.y+\"\",res.r,res.hit,res.date));\n                        //alert(\"x=\"+res.x+\" y=\"+res.y+\" r=\"+res.r+\" hit=\"+res.hit+\" date=\"+res.date);\n                    }\n                }\n            })\n        }\n    }\n}\n\nexport const MainForm = connect(mapStateToPros,mapDispatchToProps)(CanvasForm);"]},"metadata":{},"sourceType":"module"}