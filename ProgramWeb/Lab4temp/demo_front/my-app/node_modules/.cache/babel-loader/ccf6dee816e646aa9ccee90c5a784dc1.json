{"ast":null,"code":"var _jsxFileName = \"/Users/2398768715qq.com/Documents/GitHub/ITMO-PE/ProgramWeb/Lab4temp/demo_front/my-app/src/components/main/mainForm.jsx\";\nimport React from \"react\";\nimport $ from \"jquery\";\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { addDot, GetR, GetX, GetY } from \"../reduxStore/action/action\";\nimport { Link } from \"react-router-dom\"; //pure ui component,which only deal with view\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CanvasForm extends React.Component {\n  render() {\n    const {\n      X,\n      Y,\n      R,\n      getX,\n      getY,\n      getR,\n      submitForm\n    } = this.props;\n    let username = window.sessionStorage.getItem(\"username\");\n\n    if (username === null || username === \"\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ah,ha. Seems that you try to bypass login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 21\n      }, this);\n    } else {\n      alert(\"Welcome! \" + username);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form_block\",\n        children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"form-field\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"canvas_form\",\n            role: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Please input X:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 22,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(-4),\n                  children: \"-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 26,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(-3),\n                  children: \"-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 27,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(-2),\n                  children: \"-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 28,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(-1),\n                  children: \"-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 29,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(0),\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 30,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(1),\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 31,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(2),\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 32,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(3),\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 33,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getX(4),\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 34,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 25,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Please input Y:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xs-10 col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"Y\",\n                  className: \"form_input\",\n                  value: Y,\n                  placeholder: \"from -5 to 5\",\n                  onChange: getY\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Please input R:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getR(-4),\n                  children: \"-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getR(-3),\n                  children: \"-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getR(-2),\n                  children: \"-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"X\",\n                  className: \"X\",\n                  onClick: () => getR(-1),\n                  children: \"-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"R\",\n                  className: \"R\",\n                  onClick: () => getR(0),\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"R\",\n                  className: \"R\",\n                  onClick: () => getR(1),\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"R\",\n                  className: \"R\",\n                  onClick: () => getR(2),\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"R\",\n                  className: \"R\",\n                  onClick: () => getR(3),\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  name: \"R\",\n                  className: \"R\",\n                  onClick: () => getR(4),\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"submit\",\n                onClick: event => submitForm(X, Y, R, event),\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"link\",\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"back\",\n            className: \"click_button\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nCanvasForm.propTypes = {\n  X: PropTypes.number.isRequired,\n  Y: PropTypes.string.isRequired,\n  R: PropTypes.number.isRequired,\n  getX: PropTypes.func.isRequired,\n  getY: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  submitForm: PropTypes.func.isRequired\n};\n\nfunction mapStateToPros(state) {\n  return {\n    X: state.dot.X,\n    Y: state.dot.Y,\n    R: state.dot.R\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getX: x => dispatch(GetX(x)),\n    getR: r => dispatch(GetR(r)),\n    getY: event => dispatch(GetY(event.target.value)),\n    submitForm: (x, y, r, event) => {\n      event.preventDefault();\n      $.ajax({\n        url: \"api/getDot\",\n        method: \"POST\",\n        data: {\n          X: x,\n          Y: y,\n          R: r,\n          Password: window.sessionStorage.getItem(\"password\"),\n          Username: window.sessionStorage.getItem(\"username\")\n        },\n        async: false,\n        success: function (res) {\n          if (res.wrong) {\n            alert(res.message);\n          } else {\n            dispatch(addDot(res.x, res.y + \"\", res.r, res.hit, res.date)); //alert(\"x=\"+res.x+\" y=\"+res.y+\" r=\"+res.r+\" hit=\"+res.hit+\" date=\"+res.date);\n          }\n        }\n      });\n    }\n  };\n}\n\nexport const MainForm = connect(mapStateToPros, mapDispatchToProps)(CanvasForm);","map":{"version":3,"sources":["/Users/2398768715qq.com/Documents/GitHub/ITMO-PE/ProgramWeb/Lab4temp/demo_front/my-app/src/components/main/mainForm.jsx"],"names":["React","$","PropTypes","connect","addDot","GetR","GetX","GetY","Link","CanvasForm","Component","render","X","Y","R","getX","getY","getR","submitForm","props","username","window","sessionStorage","getItem","alert","event","propTypes","number","isRequired","string","func","mapStateToPros","state","dot","mapDispatchToProps","dispatch","x","r","target","value","y","preventDefault","ajax","url","method","data","Password","Username","async","success","res","wrong","message","hit","date","MainForm"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\nimport PropTypes from 'prop-types';\nimport {connect} from \"react-redux\";\nimport {addDot, GetR, GetX, GetY} from \"../reduxStore/action/action\";\nimport {Link} from \"react-router-dom\";\n\n//pure ui component,which only deal with view\nclass CanvasForm extends React.Component{\n    render(){\n        const {X,Y,R,getX,getY,getR,submitForm} = this.props;\n        let username = window.sessionStorage.getItem(\"username\");\n        if(username===null||username===\"\"){\n            return (<div>Ah,ha. Seems that you try to bypass login</div>);\n        }else {\n            alert(\"Welcome! \" + username);\n            return (\n                <div className={\"form_block\"}>\n                    <fieldset className={\"form-field\"}>\n                        <form id={\"canvas_form\"} role={\"form\"}>\n                            <div className={\"form-group\"}>\n                                <label>\n                                    Please input X:\n                                </label>\n                                <div>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-4)}>-4</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-3)}>-3</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-2)}>-2</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(-1)}>-1</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(0)}>0</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(1)}>1</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(2)}>2</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(3)}>3</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getX(4)}>4</button>\n                                </div>\n                            </div>\n                            <div className={\"form-group\"}>\n                                <label>\n                                    Please input Y:\n                                </label>\n                                <div className={\"col-xs-10 col-sm-2\"}>\n                                    <input type={\"text\"} name={\"Y\"} className={\"form_input\"} value={Y} placeholder={\"from -5 to 5\"} onChange={getY}/>\n                                </div>\n                            </div>\n                            <div className={\"form-group\"}>\n                                <label>\n                                    Please input R:\n                                </label>\n                                <div>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getR(-4)}>-4</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getR(-3)}>-3</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getR(-2)}>-2</button>\n                                    <button type={\"button\"} name={\"X\"} className={\"X\"} onClick={() => getR(-1)}>-1</button>\n                                    <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(0)}>0</button>\n                                    <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(1)}>1</button>\n                                    <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(2)}>2</button>\n                                    <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(3)}>3</button>\n                                    <button type={\"button\"} name={\"R\"} className={\"R\"} onClick={() => getR(4)}>4</button>\n                                </div>\n                            </div>\n                            <div className={\"form-group\"}>\n                                <button id={\"submit\"} onClick={(event) => submitForm(X, Y, R, event)}>Submit</button>\n                            </div>\n                        </form>\n                    </fieldset>\n\n\n                    <Link className={\"link\"} to={\"/\"}><button id={\"back\"} className={\"click_button\"}>Back</button></Link>\n                </div>\n            );\n        }\n    }\n}\n\nCanvasForm.propTypes = {\n    X:PropTypes.number.isRequired,\n    Y:PropTypes.string.isRequired,\n    R:PropTypes.number.isRequired,\n    getX:PropTypes.func.isRequired,\n    getY:PropTypes.func.isRequired,\n    getR:PropTypes.func.isRequired,\n    submitForm:PropTypes.func.isRequired,\n}\n\nfunction mapStateToPros(state){\n    return{\n        X:state.dot.X,\n        Y:state.dot.Y,\n        R:state.dot.R,\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return{\n        getX:(x)=>dispatch(GetX(x)),\n        getR:(r)=>dispatch(GetR(r)),\n        getY:(event)=>dispatch(GetY(event.target.value)),\n        submitForm:(x,y,r,event)=>{\n            event.preventDefault();\n            $.ajax({\n                url: \"api/getDot\",\n                method:\"POST\",\n                data:{\n                    X:x,\n                    Y:y,\n                    R:r,\n                    Password:window.sessionStorage.getItem(\"password\"),\n                    Username:window.sessionStorage.getItem(\"username\")\n                },\n                async:false,\n                success:function (res){\n                    if(res.wrong) {\n                        alert(res.message);\n                    }else {\n                        dispatch(addDot(res.x,res.y+\"\",res.r,res.hit,res.date));\n                        //alert(\"x=\"+res.x+\" y=\"+res.y+\" r=\"+res.r+\" hit=\"+res.hit+\" date=\"+res.date);\n                    }\n                }\n            })\n        }\n    }\n}\n\nexport const MainForm = connect(mapStateToPros,mapDispatchToProps)(CanvasForm);"]},"metadata":{},"sourceType":"module"}